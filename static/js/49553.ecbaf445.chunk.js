"use strict";(self.webpackChunkalignment_projects=self.webpackChunkalignment_projects||[]).push([[49553],{13052:(e,t,s)=>{s.d(t,{g:()=>n});var i=s(11110);function a(e,t){for(let s=0,i=t.length;s<i;s++){const i=t[s];if(i.length>0){let t=i[0];if(t.length>0){let s=t[0];e.moveTo(s.x,s.y);for(let t=0,a=i.length;t<a;t++)r(e,i[t])}}}}function r(e,t){for(let s=0,i=t.length;s<i;s++){const i=t[s];e.lineTo(i.x,i.y)}}class l extends i.A{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let t=e[0];this._display.moveTo(t.x,t.y),a(this._display,[[e]])}else if(t)a(this._display,t);else if(!this.get("draw")){let e=this.width(),t=this.height();this._display.moveTo(0,0),this._display.lineTo(e,t)}}}}Object.defineProperty(l,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(l,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:i.A.classNames.concat([l.className])});class n extends l{}Object.defineProperty(n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:l.classNames.concat([n.className])})},13809:(e,t,s)=>{function i(e){return function(){return e}}s.d(t,{A:()=>i})},17371:(e,t,s)=>{s.d(t,{i:()=>h});const i=Math.PI,a=2*i,r=1e-6,l=a-r;function n(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}class o{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?n:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n;const s=10**t;return function(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=Math.round(arguments[t]*s)/s+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,s,i){this._append`Q${+e},${+t},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(e,t,s,i,a,r){this._append`C${+e},${+t},${+s},${+i},${this._x1=+a},${this._y1=+r}`}arcTo(e,t,s,a,l){if(e=+e,t=+t,s=+s,a=+a,(l=+l)<0)throw new Error(`negative radius: ${l}`);let n=this._x1,o=this._y1,h=s-e,u=a-t,d=n-e,c=o-t,m=d*d+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(m>r)if(Math.abs(c*h-u*d)>r&&l){let _=s-n,p=a-o,g=h*h+u*u,f=_*_+p*p,b=Math.sqrt(g),v=Math.sqrt(m),y=l*Math.tan((i-Math.acos((g+m-f)/(2*b*v)))/2),w=y/v,I=y/b;Math.abs(w-1)>r&&this._append`L${e+w*d},${t+w*c}`,this._append`A${l},${l},0,0,${+(c*_>d*p)},${this._x1=e+I*h},${this._y1=t+I*u}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,s,n,o,h){if(e=+e,t=+t,h=!!h,(s=+s)<0)throw new Error(`negative radius: ${s}`);let u=s*Math.cos(n),d=s*Math.sin(n),c=e+u,m=t+d,_=1^h,p=h?n-o:o-n;null===this._x1?this._append`M${c},${m}`:(Math.abs(this._x1-c)>r||Math.abs(this._y1-m)>r)&&this._append`L${c},${m}`,s&&(p<0&&(p=p%a+a),p>l?this._append`A${s},${s},0,1,${_},${e-u},${t-d}A${s},${s},0,1,${_},${this._x1=c},${this._y1=m}`:p>r&&this._append`A${s},${s},0,${+(p>=i)},${_},${this._x1=e+s*Math.cos(o)},${this._y1=t+s*Math.sin(o)}`)}rect(e,t,s,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function h(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(null==s)t=null;else{const e=Math.floor(s);if(!(e>=0))throw new RangeError(`invalid digits: ${s}`);t=e}return e},()=>new o(t)}o.prototype},31826:(e,t,s)=>{s.d(t,{u:()=>d,s:()=>u});var i=s(6326),a=s(2857),r=s(17294),l=s(56873);class n extends l.B8{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,s){this.processor&&this.processor.processRow(s),super._onSetIndex(e,t,s)}}var o=s(7552),h=s(40730);class u extends a.wB{constructor(e,t,s){super(s),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class d extends r.m{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new n}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===e.type)o.__(t,e=>{e.dispose()}),t.length=0,this._onDataClear();else if("push"===e.type){const s=new u(this,e.newValue,this._makeDataItem(e.newValue));t.push(s),this.processDataItem(s)}else if("setIndex"===e.type){const s=t[e.index],i=this._makeDataItem(e.newValue);s.bullets&&0==s.bullets.length&&(s.bullets=void 0),h.HP(i).forEach(e=>{s.animate({key:e,to:i[e],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),s.dataContext=e.newValue}else if("insertIndex"===e.type){const s=new u(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,s),this.processDataItem(s)}else if("removeIndex"===e.type){t[e.index].dispose(),t.splice(e.index,1)}else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");{const s=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,s)}}this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},o.__(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},o.__(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&o.__(this._valueFields,s=>{const i=this.get(this._valueFieldsF[s].fieldKey);t[s]=e[i],t[this._valueFieldsF[s].workingKey]=t[s]}),this._fields&&o.__(this._fields,s=>{const i=this.get(this._fieldsF[s]);t[s]=e[i]}),t}makeDataItem(e,t){let s=new u(this,t,e);return this.processDataItem(s),s}pushDataItem(e,t){const s=this.makeDataItem(e,t);return this._mainDataItems.push(s),s}disposeDataItem(e){}showDataItem(e,t){return(0,i.sH)(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,t){return(0,i.sH)(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}if(this._valuesDirty){const e="valueschanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}getDataItemById(e){return o.I6(this.dataItems,t=>t.get("id")==e)}}Object.defineProperty(d,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(d,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.m.classNames.concat([d.className])})},53290:(e,t,s)=>{s.d(t,{d:()=>o});var i=s(17294),a=s(91120);class r extends i.m{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(i.m.new(this._root,{width:a.Q2,height:a.Q2,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:i.m.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:a.Q2,height:a.Q2})})}}Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:i.m.classNames.concat([r.className])});var l=s(56873),n=s(7552);class o extends r{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:i.m.new(this._root,{width:a.Q2,height:a.Q2,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new l.fo})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(t=>{if("clear"===t.type){n.__(t.oldValues,e=>{this._removeSeries(e)});const e=this.get("colors");e&&e.reset();const s=this.get("patterns");s&&s.reset()}else if("push"===t.type)e.moveValue(t.newValue),this._processSeries(t.newValue);else if("setIndex"===t.type)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("insertIndex"===t.type)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("removeIndex"===t.type)this._removeSeries(t.oldValue);else if("moveIndex"===t.type)e.moveValue(t.value,t.newIndex),this._processSeries(t.value);else{if("swap"!==t.type)throw new Error("Unknown IListEvent type");{const s=t.a,i=t.b,a=this.series.indexOf(s),r=this.series.indexOf(i);e.moveValue(s,r),e.moveValue(i,a),this.series.each(e=>{this._processSeries(e),e.markDirtyValues()})}}}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e._handleRemoved(),e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:r.classNames.concat([o.className])})},59328:(e,t,s)=>{s.d(t,{e:()=>r});var i=s(2857),a=s(81046);class r extends i.wC{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",a.Q1.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);const s=this.getPrivate("numColors"),i=this.get("passOptions"),r=this.get("reuse");for(let l=0;l<s;l++)if(r)t.push(t[l]);else{const s=t[l].toHSL();let r=s.h+(i.hue||0)*e;for(;r>1;)r-=1;let n=s.s+(i.saturation||0)*e;n>1&&(n=1),n<0&&(n=0);let o=s.l+(i.lightness||0)*e;for(;o>1;)o-=1;t.push(a.Q1.fromHSL(r,n,o))}}getIndex(e){const t=this.get("colors",[]),s=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):null!=s?a.Q1.saturate(t[e],s):t[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:i.wC.classNames.concat([r.className])})},72688:(e,t,s)=>{s.d(t,{LI:()=>n,yy:()=>a});var i=s(55077);function a(e){return new Promise((t,s)=>{setTimeout(t,e)})}let r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function l(e,t){return null==t&&(t=1),r[e]*t}function n(e,t,s,a,r,o,h){if(!h||r){let h=0;switch(r||"millisecond"==t||(h=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-h)),t){case"day":let t=e.getUTCDate();if(s>1){if(o){o=n(o,"day",1);let t=e.getTime()-o.getTime(),i=Math.floor(t/l("day")/s),a=l("day",i*s);e.setTime(o.getTime()+a-h*l("minute"))}}else e.setUTCDate(t);e.setUTCHours(0,0,0,0);break;case"second":let r=e.getUTCSeconds();s>1&&(r=Math.floor(r/s)*s),e.setUTCSeconds(r,0);break;case"millisecond":if(1==s)return e;let u=e.getUTCMilliseconds();u=Math.floor(u/s)*s,e.setUTCMilliseconds(u);break;case"hour":let d=e.getUTCHours();s>1&&(d=Math.floor(d/s)*s),e.setUTCHours(d,0,0,0);break;case"minute":let c=e.getUTCMinutes();s>1&&(c=Math.floor(c/s)*s),e.setUTCMinutes(c,0,0);break;case"month":let m=e.getUTCMonth();s>1&&(2!=s&&3!=s&&4!=s&&6!=s||(m=Math.floor(m/s)*s)),e.setUTCMonth(m,1),e.setUTCHours(0,0,0,0);break;case"year":let _=e.getUTCFullYear();s>1&&(_=Math.floor(_/s)*s),e.setUTCFullYear(_,0,1),e.setUTCHours(0,0,0,0);break;case"week":if(s>1&&o){o=n(o,"week",1);let t=e.getTime()-o.getTime(),i=Math.floor(t/l("week")/s),a=l("week",i*s);e.setTime(o.getTime()+a-h*l("minute"))}let p=e.getUTCDate(),g=e.getUTCDay();i.Et(a)||(a=1),p=g>=a?p-g+a:p-(7+g)+a,e.setUTCDate(p),e.setUTCHours(0,0,0,0)}if(!r&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+h),"day"==t||"week"==t||"month"==t||"year"==t)){let t=e.getTimezoneOffset();if(t!=h){let s=t-h;e.setUTCMinutes(e.getUTCMinutes()+s)}}return e}{if(isNaN(e.getTime()))return e;let u=e.getTime(),d=h.offsetUTC(e),c=e.getTimezoneOffset(),m=h.parseDate(e),_=m.year,p=m.month,g=m.day,f=m.hour,b=m.minute,v=m.second,y=m.millisecond,w=m.weekday,I=d-c;switch(t){case"day":if(s>1&&o){o=n(o,"day",1,a,r,void 0,h);let t=e.getTime()-o.getTime(),i=Math.floor(t/l("day")/s),u=l("day",i*s);e.setTime(o.getTime()+u),m=h.parseDate(e),_=m.year,p=m.month,g=m.day}f=0,b=I,v=0,y=0;break;case"second":b+=I,s>1&&(v=Math.floor(v/s)*s),y=0;break;case"millisecond":b+=I,s>1&&(y=Math.floor(y/s)*s);break;case"hour":s>1&&(f=Math.floor(f/s)*s),b=I,v=0,y=0;break;case"minute":s>1&&(b=Math.floor(b/s)*s),b+=I,v=0,y=0;break;case"month":s>1&&(p=Math.floor(p/s)*s),g=1,f=0,b=I,v=0,y=0;break;case"year":s>1&&(_=Math.floor(_/s)*s),p=0,g=1,f=0,b=I,v=0,y=0;break;case"week":i.Et(a)||(a=1),g=w>=a?g-w+a:g-(7+w)+a,f=0,b=I,v=0,y=0}const x=(e=new Date(_,p,g,f,b,v,y)).getTime();let D=36e5;"hour"==t&&(D=36e5*s),x+D<=u&&("hour"!=t&&"minute"!=t&&"second"!=t&&"millisecond"!=t||(e=new Date(x+D)));let P=e.getTimezoneOffset(),C=h.offsetUTC(e)-P;return C!=I&&e.setTime(e.getTime()+6e4*(C-I)),e}}},91316:(e,t,s)=>{s.d(t,{s:()=>_});var i=s(6326),a=s(31826),r=s(56873),l=s(81046),n=s(19727),o=s(91120),h=s(17294),u=s(89867),d=s(7552),c=s(55077),m=s(72688);class _ extends a.u{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseSeriesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new r.B8}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:h.m.new(this._root,{width:o.Q2,height:o.Q2,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(e=>{if("clear"===e.type)this._handleBullets(this.dataItems);else if("push"===e.type)this._handleBullets(this.dataItems);else if("setIndex"===e.type)this._handleBullets(this.dataItems);else if("insertIndex"===e.type)this._handleBullets(this.dataItems);else if("removeIndex"===e.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.max(0,Math.min(this.getPrivate("endIndex",e),e))}_handleBullets(e){d.__(e,e=>{const t=e.bullets;t&&(d.__(t,e=>{e.dispose()}),e.bullets=void 0)}),this.markDirtyValues()}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(t=>{this._makeBullet(e,t)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,s){const i=t(this._root,this,e);return i&&(i._index=s,this._makeBulletReal(e,i)),i}_makeBulletReal(e,t){let s=t.get("sprite");s&&(s._setDataItem(e),s.setRaw("position","absolute"),this.bulletsContainer.children.push(s)),t.series=this,e.bullets.push(t)}addBullet(e,t){e.bullets||(e.bullets=[]),t&&this._makeBulletReal(e,t)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const e=this.getPrivate("baseValueSeries");e&&this._disposers.push(e.onPrivate("startIndex",()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,0!=e&&(this._psi=void 0))),this._psi==e&&this._pei==t&&!this.isPrivateDirty("adjustedStartIndex")||this._selectionAggregatesCalculated||(0===e&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let e=this.get("tooltip");e&&(e.hide(0),e.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let e;const t=this.get("legendDataItem");if(t&&(e=t.get("markerRectangle"),e&&this.isVisible())){if(this.isDirty("stroke")){let t=this.get("stroke");e.set("stroke",t)}if(this.isDirty("fill")){let t=this.get("fill");e.set("fill",t)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let e=this.startIndex(),t=this.endIndex();t<this.dataItems.length&&t++;for(let s=e;s<t;s++){let e=this.dataItems[s];e.bullets||this._makeBullets(e)}}}_handleRemoved(){}_adjustStartIndex(e){return e}_calculateAggregates(e,t){let s=this._valueFields;if(!s)throw new Error("No value fields are set for the series.");const i={},a={},r={},l={},n={},o={},h={},u={},c={};d.__(s,e=>{i[e]=0,a[e]=0,r[e]=0});const m=this.dataItems.length;d.__(s,s=>{let d=s+"Change",_=s+"ChangePercent",p=s+"ChangePrevious",g=s+"ChangePreviousPercent",f=s+"ChangeSelection",b=s+"ChangeSelectionPercent",v="valueY";"valueX"!=s&&"openValueX"!=s&&"lowValueX"!=s&&"highValueX"!=s||(v="valueX");const y=this.getPrivate("baseValueSeries"),w=this.getPrivate("adjustedStartIndex",e),I=(e,t)=>{if(e){let s=e.get(t);null!=s&&(e.setRaw(p,s-c[v]),e.setRaw(g,(s-c[v])/c[v]*100),e.setRaw(f,s-o[v]),e.setRaw(b,(s-o[v])/o[v]*100),c[t]=s)}};for(let m=w;m<t;m++){const t=this.dataItems[m];if(t){let m=t.get(s);null!=m&&(r[s]++,i[s]+=m,a[s]+=Math.abs(m),u[s]=i[s]/r[s],(l[s]>m||null==l[s])&&(l[s]=m),(n[s]<m||null==n[s])&&(n[s]=m),h[s]=m,null==o[s]&&(o[s]=m,c[s]=m,y&&(o[v]=y._getBase(v))),0===e&&(t.setRaw(d,m-o[v]),t.setRaw(_,(m-o[v])/o[v]*100)),I(t,s))}}t<m&&I(this.dataItems[t],s),t+1<m&&I(this.dataItems[t+1],s),e>0&&e--,delete c[s];for(let t=e;t<w;t++){const e=this.dataItems[t];if(e){let t=e.get(s);null==c[s]&&(c[s]=t),null!=t&&(e.setRaw(p,t-c[v]),e.setRaw(g,(t-c[v])/c[v]*100),e.setRaw(f,t-o[v]),e.setRaw(b,(t-o[v])/o[v]*100),c[s]=t)}}}),d.__(s,e=>{this.setPrivate(e+"AverageSelection",u[e]),this.setPrivate(e+"CountSelection",r[e]),this.setPrivate(e+"SumSelection",i[e]),this.setPrivate(e+"AbsoluteSumSelection",a[e]),this.setPrivate(e+"LowSelection",l[e]),this.setPrivate(e+"HighSelection",n[e]),this.setPrivate(e+"OpenSelection",o[e]),this.setPrivate(e+"CloseSelection",h[e])}),0===e&&t===m&&d.__(s,e=>{this.setPrivate(e+"Average",u[e]),this.setPrivate(e+"Count",r[e]),this.setPrivate(e+"Sum",i[e]),this.setPrivate(e+"AbsoluteSum",a[e]),this.setPrivate(e+"Low",l[e]),this.setPrivate(e+"High",n[e]),this.setPrivate(e+"Open",o[e]),this.setPrivate(e+"Close",h[e])})}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&d.__(e,e=>{const t=e.minValue||this.getPrivate(e.dataField+"Low")||0,s=e.maxValue||this.getPrivate(e.dataField+"High")||0;d.__(e.target._entities,i=>{const a=i.dataItem.get(e.dataField);if(!c.Et(a)){e.neutral&&i.set(e.key,e.neutral);const t=i.states;if(t){const s=t.lookup("default");s&&e.neutral&&s.set(e.key,e.neutral)}if(!e.customFunction)return}if(e.customFunction)e.customFunction.call(this,i,t,s,a);else{let r,h;r=e.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(t)*Math.LOG10E):(a-t)/(s-t),!c.Et(a)||c.Et(r)&&Math.abs(r)!=1/0||(r=.5),c.Et(e.min)?h=e.min+(e.max-e.min)*r:e.min instanceof l.Q1?h=l.Q1.interpolate(r,e.min,e.max):e.min instanceof o.QE&&(h=(0,n.zR)(r,e.min,e.max)),i.set(e.key,h);const u=i.states;if(u){const t=u.lookup("default");t&&t.set(e.key,h)}}})}),this.get("visible")){let e=this.dataItems.length,t=this.startIndex(),s=this.endIndex();s<e&&s++,t>0&&t--;for(let i=0;i<t;i++)this._hideBullets(this.dataItems[i]);for(let i=t;i<s;i++)this._positionBullets(this.dataItems[i]);for(let i=s;i<e;i++)this._hideBullets(this.dataItems[i])}}_positionBullets(e){e.bullets&&d.__(e.bullets,e=>{this._positionBullet(e);const t=e.get("sprite");e.get("dynamic")&&(t&&(t._markDirtyKey("fill"),t.markDirtySize()),t instanceof h.m&&t.walkChildren(e=>{e._markDirtyKey("fill"),e.markDirtySize(),e instanceof u.J&&e.text.markDirtyText()})),t instanceof u.J&&t.get("populateText")&&t.text.markDirtyText()})}_hideBullets(e){e.bullets&&d.__(e.bullets,e=>{let t=e.get("sprite");t&&t.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&(d.__(t,e=>{e.dispose()}),e.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(e,t){const s=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return(0,i.sH)(this,void 0,void 0,function*(){const i=[s.showDataItem.call(this,e,t)],a=e.bullets;a&&d.__(a,e=>{const s=e.get("sprite");s&&i.push(s.show(t))}),yield Promise.all(i)})}hideDataItem(e,t){const s=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return(0,i.sH)(this,void 0,void 0,function*(){const i=[s.hideDataItem.call(this,e,t)],a=e.bullets;a&&d.__(a,e=>{const s=e.get("sprite");s&&i.push(s.hide(t))}),yield Promise.all(i)})}_sequencedShowHide(e,t){return(0,i.sH)(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(c.Et(t)||(t=this.get("interpolationDuration",0)),t>0){const s=this.startIndex(),a=this.endIndex();yield Promise.all(d.Tj(this.dataItems,(r,l)=>(0,i.sH)(this,void 0,void 0,function*(){let i=t||0;(l<s-10||l>a+10)&&(i=0);let n=this.get("sequencedDelay",0)+i/(a-s);yield m.yy(n*(l-s)),e?yield this.showDataItem(r,i):yield this.hideDataItem(r,i)})))}else yield Promise.all(d.Tj(this.dataItems,t=>e?this.showDataItem(t,0):this.hideDataItem(t,0)))})}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const s=t.get("valueLabel");if(s){const t=s.text;let i="";s._setDataItem(e),i=this.get("legendValueText",t.get("text","")),s.set("text",i),t.markDirtyText()}const i=t.get("label");if(i){const t=i.text;let s="";i._setDataItem(e),s=this.get("legendLabelText",t.get("text","")),i.set("text",s),t.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:a.u.classNames.concat([_.className])})}}]);
//# sourceMappingURL=49553.ecbaf445.chunk.js.map