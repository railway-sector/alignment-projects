"use strict";(self.webpackChunkalignment_projects=self.webpackChunkalignment_projects||[]).push([[89694],{89694:(t,s,e)=>{e.r(s),e.d(s,{SplatSortWorkerInput:()=>n,SplatSortWorkerOutput:()=>r,destroy:()=>h,sort:()=>f});class n{constructor(t,s,e){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=s,this.numGaussians=e,this.preciseSort=n}}class r{constructor(t,s){this.distances=t,this.sortedOrderIndices=s}}let o=null,l=null;const a=10,i=20,c=.25;function u(t,s){const e=t.length,n=Math.max(a,Math.min(i,Math.round(Math.log2(e/c)))),r=1+(1<<n);!function(t,s){o?.length!==t&&(o=new Uint32Array(t)),l&&l.length===1+(1<<s)?l.fill(0):l=new Uint32Array(1+(1<<s))}(e,n);let u=t[0],f=t[0];for(let o=0;o<t.length;o++)u=Math.min(u,t[o]),f=Math.max(f,t[o]);const h=f-u;if(h<1e-6)for(let a=0;a<e;++a)o[a]=0,l[0]++;else{const s=(1<<n)/h;for(let n=0;n<e;n++){const e=(t[n]-u)*s>>>0;o[n]=e,l[e]++}}for(let o=1;o<r;o++)l[o]+=l[o-1];for(let a=0;a<e;a++){const t=o[a];s[--l[t]]=a}}async function f(t){const{distances:s,sortOrderIndices:e,preciseSort:n,numGaussians:o}=t,l=s.subarray(0,o),a=e.subarray(0,o);if(0===l.length||0===a.length)return{result:new r(s,e),transferList:[s.buffer,e.buffer]};if(n){const t=Array.from(a.keys());t.sort((t,s)=>l[t]-l[s]||t-s);const s=t.map(t=>a[t]);a.set(s)}else u(l,a);return{result:new r(s,e),transferList:[s.buffer,e.buffer]}}function h(){o=null,l=null}}}]);
//# sourceMappingURL=89694.1ecf30d1.chunk.js.map