{"version":3,"file":"static/js/49553.ecbaf445.chunk.js","mappings":"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","sources":["../node_modules/src/.internal/core/util/Draw.ts","../node_modules/src/.internal/core/render/Line.ts","../node_modules/src/.internal/core/render/Tick.ts","../node_modules/d3-shape/src/constant.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/path.js","../node_modules/src/.internal/core/util/Data.ts","../node_modules/src/.internal/core/render/Component.ts","../node_modules/src/.internal/core/render/Chart.ts","../node_modules/src/.internal/core/render/SerialChart.ts","../node_modules/src/.internal/core/util/ColorSet.ts","../node_modules/src/.internal/core/util/Time.ts","../node_modules/src/.internal/core/render/Series.ts"],"sourcesContent":["/** @ignore *//** */\n\nimport type { IPoint } from \"./IPoint\"\nimport * as $math from \"./Math\";\nimport type { IGraphics } from \"../render/backend/Renderer\";\n\n/**\n * @ignore\n */\nexport function segmentedLine(display: IGraphics, segments: Array<Array<Array<IPoint>>>) {\n\tfor (let s = 0, len = segments.length; s < len; s++) {\n\t\tconst groups = segments[s];\n\t\tif (groups.length > 0) {\n\t\t\tlet firstGroup = groups[0];\n\t\t\tif (firstGroup.length > 0) {\n\t\t\t\tlet firstPoint = firstGroup[0];\n\t\t\t\tdisplay.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tfor (let g = 0, len = groups.length; g < len; g++) {\n\t\t\t\t\tline(display, groups[g]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function line(display: IGraphics, points: Array<IPoint>) {\n\tfor (let p = 0, len = points.length; p < len; p++) {\n\t\tconst point = points[p];\n\t\tdisplay.lineTo(point.x, point.y);\n\t}\n}\n\n/**\n * @ignore\n */\nexport function moveTo(display: IGraphics, point: IPoint) {\n\tdisplay.moveTo(point.x, point.y);\n}\n\n/**\n * @ignore\n */\nexport function clear(display: IGraphics) {\n\tdisplay.clear();\n}\n\n/**\n * @ignore\n */\nexport function smoothedSegmentedline(display: IGraphics, segments: Array<Array<Array<IPoint>>>, tensionX: number, tensionY: number) {\n\tfor (let s = 0, len = segments.length; s < len; s++) {\n\t\tconst groups = segments[s];\n\t\tif (groups.length > 0) {\n\t\t\tlet firstGroup = groups[0];\n\t\t\tif (firstGroup.length > 0) {\n\t\t\t\tlet firstPoint = firstGroup[0];\n\t\t\t\tdisplay.moveTo(firstPoint.x, firstPoint.y);\n\t\t\t\tfor (let g = 0, len = groups.length; g < len; g++) {\n\t\t\t\t\tconst points = groups[g];\n\t\t\t\t\tif (points.length > 0) {\n\t\t\t\t\t\tdisplay.lineTo(points[0].x, points[0].y)\n\t\t\t\t\t}\n\t\t\t\t\tsmoothedLine(display, points, tensionX, tensionY);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function smoothedLine(display: IGraphics, points: Array<IPoint>, tensionX: number, tensionY: number) {\n\n\tfor (let i = points.length - 1; i > 0; i--) {\n\t\tlet p0 = points[i];\n\t\tlet p1 = points[i - 1];\n\n\t\tif (Math.abs(p0.x - p1.x) < 0.1 && Math.abs(p0.y - p1.y) < 0.1) {\n\t\t\tpoints.splice(i - 1, 1);\n\t\t}\n\t}\n\n\tif (points.length < 3 || (tensionX >= 1 && tensionY >= 1)) {\n\t\tline(display, points);\n\t\treturn;\n\t}\n\n\ttensionX = 1 - tensionX + 0.00001;\n\ttensionY = 1 - tensionY + 0.00001;\n\n\tlet first = points[0];\n\tlet last = points[points.length - 1];\n\n\tlet closed: boolean = false;\n\n\tif ($math.round(first.x, 3) == $math.round(last.x) && $math.round(first.y) == $math.round(last.y)) {\n\t\tclosed = true;\n\t}\n\n\t// Can't moveTo here, as it wont be possible to have fill then.\n\tlet path: string = \"\";\n\n\tfor (let i = 0, len = points.length - 1; i < len; i++) {\n\t\tlet p0: IPoint = points[i - 1];\n\n\t\tlet p1: IPoint = points[i];\n\n\t\tlet p2: IPoint = points[i + 1];\n\n\t\tlet p3: IPoint = points[i + 2];\n\n\t\tif (i === 0) {\n\t\t\tif (closed) {\n\t\t\t\tp0 = points[len - 2];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp0 = points[0];\n\t\t\t}\n\t\t} else if (i == len - 1) {\n\t\t\tif (closed) {\n\t\t\t\tp3 = points[1];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tp3 = p2;\n\t\t\t}\n\t\t}\n\n\n\t\tlet controlPointA = $math.getCubicControlPointA(p0, p1, p2, tensionX, tensionY);\n\t\tlet controlPointB = $math.getCubicControlPointB(p1, p2, p3, tensionX, tensionY);\n\n\t\tdisplay.bezierCurveTo(controlPointA.x, controlPointA.y, controlPointB.x, controlPointB.y, p2.x, p2.y);\n\t}\n\n\treturn path;\n}\n","import { Graphics, IGraphicsSettings, IGraphicsPrivate } from \"./Graphics\";\nimport type { IPoint } from \"../util/IPoint\";\nimport * as $draw from \"../util/Draw\";\n\nexport interface ILineSettings extends IGraphicsSettings {\n\n\t/**\n\t * A list of [[IPoint]] (x/y coordinates) points for the line.\n\t */\n\tpoints?: Array<IPoint>;\n\n\t/**\n\t * A list of [[IPoint]] arrays for different segments of the line.\n\t * \n\t * @since 5.1.4\n\t */\n\tsegments?: Array<Array<Array<IPoint>>>;\n}\n\nexport interface ILinePrivate extends IGraphicsPrivate {\n}\n\n/**\n * Draws a line.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n * @important\n */\nexport class Line extends Graphics {\n\n\tdeclare public _settings: ILineSettings;\n\tdeclare public _privateSettings: ILinePrivate;\n\n\tpublic static className: string = \"Line\";\n\tpublic static classNames: Array<string> = Graphics.classNames.concat([Line.className]);\n\n\tpublic _beforeChanged() {\n\t\tsuper._beforeChanged();\n\n\t\tif (this.isDirty(\"points\") || this.isDirty(\"segments\") || this._sizeDirty || this.isPrivateDirty(\"width\") || this.isPrivateDirty(\"height\")) {\n\t\t\tthis._clear = true;\n\t\t}\n\t}\n\n\tpublic _changed() {\n\t\tsuper._changed();\n\n\t\tif (this._clear) {\n\n\t\t\tconst points = this.get(\"points\");\n\t\t\tconst segments = this.get(\"segments\");\n\n\t\t\tif (points && points.length > 0) {\n\t\t\t\tlet point = points[0];\n\n\t\t\t\tthis._display.moveTo(point.x, point.y);\n\t\t\t\t$draw.segmentedLine(this._display, [[points]]);\n\t\t\t}\n\t\t\telse if (segments) {\n\t\t\t\t$draw.segmentedLine(this._display, segments);\n\t\t\t}\n\t\t\telse if (!this.get(\"draw\")) {\n\t\t\t\tlet w = this.width();\n\t\t\t\tlet h = this.height();\n\n\t\t\t\tthis._display.moveTo(0, 0);\n\t\t\t\tthis._display.lineTo(w, h);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Line, ILineSettings, ILinePrivate } from \"./Line\";\n\n\nexport interface ITickSettings extends ILineSettings {\n\n\t/**\n\t * Length in pixels.\n\t */\n\tlength?: number;\n\n\t/**\n\t * Location within target space. 0 - beginning, 1 - end.\n\t */\n\tlocation?: number;\n\n}\n\nexport interface ITickPrivate extends ILinePrivate {\n}\n\n/**\n * Draws a tick element (mostly used on axes).\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/graphics/} for more info\n */\nexport class Tick extends Line {\n\n\tdeclare public _settings: ITickSettings;\n\tdeclare public _privateSettings: ITickPrivate;\n\n\tpublic static className: string = \"Tick\";\n\tpublic static classNames: Array<string> = Line.classNames.concat([Tick.className]);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","import type { ICounterRef } from \"./Counter\";\nimport { List } from \"./List\";\nimport type { DataProcessor } from \"./DataProcessor\";\n\n/**\n * Defines interface for a [[List]] with a data processor.\n */\nexport interface IDataWithProcessor {\n\n\t/**\n\t * An optional processor for data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\n\t */\n\tprocessor?: DataProcessor;\n\n}\n\n/**\n * A [[List]] that holds components data.\n * \n * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\n */\nexport class ListData<T> extends List<T> implements ICounterRef, IDataWithProcessor {\n\n\t/**\n\t * @ignore\n\t */\n\tpublic incrementRef(): void { }\n\n\t/**\n\t * @ignore\n\t */\n\tpublic decrementRef(): void { }\n\n\t/**\n\t * An optional processor for data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/#Pre_processing_data} for more info\n\t */\n\tpublic processor?: DataProcessor;\n\n\tprotected _onPush(newValue: T) {\n\t\tif (this.processor) {\n\t\t\tthis.processor.processRow(newValue);\n\t\t}\n\t\tsuper._onPush(newValue);\n\t}\n\n\tprotected _onInsertIndex(index: number, newValue: T) {\n\t\tif (this.processor) {\n\t\t\tthis.processor.processRow(newValue);\n\t\t}\n\t\tsuper._onInsertIndex(index, newValue);\n\t}\n\n\tprotected _onSetIndex(index: number, oldValue: T, newValue: T) {\n\t\tif (this.processor) {\n\t\t\tthis.processor.processRow(newValue);\n\t\t}\n\t\tsuper._onSetIndex(index, oldValue, newValue);\n\t}\n}\n\n/**\n * @deprecated\n * @todo remove\n */\nexport class JsonData<T> implements ICounterRef, IDataWithProcessor {\n\tpublic incrementRef(): void { }\n\tpublic decrementRef(): void { }\n\n\tpublic processor?: DataProcessor;\n\tprotected _value: T;\n\n\tconstructor(value: T) {\n\t\tthis._value = value;\n\t}\n\n\t// TODO: how do we go about calling processor here?\n\n}\n","import { Settings } from \"../util/Entity\";\nimport { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"./Container\";\nimport { ListData } from \"../util/Data\";\nimport * as $array from \"../util/Array\";\nimport * as $object from \"../util/Object\";\nimport type * as $ease from \"../util/Ease\";\nimport type { Bullet } from \"./Bullet\";\n\n/**\n * A base element that holds data bit (data item) for any [[Component]].\n */\nexport class DataItem<P extends IComponentDataItem> extends Settings {\n\tdeclare public _settings: P;\n\n\t/**\n\t * A data item's owener [[Component]].\n\t */\n\tpublic component: Component;\n\n\t/**\n\t * A reference to actual item in source data this item is based on.\n\t */\n\tpublic dataContext: unknown;\n\n\t/**\n\t * @todo requires description\n\t */\n\tpublic bullets: Array<Bullet> | undefined;\n\n\t/**\n\t * A set of \"open\" values.\n\t */\n\tpublic open: { [index: string]: any } | undefined;\n\n\t/**\n\t * A set of \"close\" values.\n\t */\n\tpublic close: { [index: string]: any } | undefined;\n\n\tconstructor(component: Component, dataContext: unknown, settings: P) {\n\t\tsuper(settings);\n\n\t\tthis.dataContext = dataContext;\n\t\tthis.component = component;\n\t\tthis._settings.visible = true;\n\t\tthis._checkDirty();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirty(): void {\n\t\tthis.component.markDirtyValues(this);\n\t}\n\n\tpublic _startAnimation(): void {\n\t\tthis.component._root._addAnimation(this);\n\t}\n\n\tprotected _animationTime(): number | null {\n\t\treturn this.component._root.animationTime;\n\t}\n\n\tprotected _dispose() {\n\t\tif (this.component) {\n\t\t\tthis.component.disposeDataItem(this);\n\t\t}\n\t\tsuper._dispose();\n\t}\n\n\t/**\n\t * Shows a data item that's currently hidden.\n\t */\n\tpublic show(duration?: number) {\n\t\tthis.setRaw(\"visible\", true);\n\t\tif (this.component) {\n\t\t\tthis.component.showDataItem(this, duration);\n\t\t}\n\t}\n\n\t/**\n\t * Hides a data item that's currently visible.\n\t */\n\tpublic hide(duration?: number) {\n\t\tthis.setRaw(\"visible\", false);\n\t\tif (this.component) {\n\t\t\tthis.component.hideDataItem(this, duration);\n\t\t}\n\t}\n\n\tpublic isHidden() {\n\t\treturn !this.get(\"visible\");\n\t}\n}\n\n\nexport interface IComponentDataItem {\n\tvisible?: boolean;\n}\n\nexport interface IComponentSettings extends IContainerSettings {\n\n\t/**\n\t * A duration of the animation from one setting value to another, in\n\t * milliseconds.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animating_data_values} for more info\n\t */\n\tinterpolationDuration?: number;\n\n\t/**\n\t * Easing function to use for cross setting value animations.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Easing_functions} for more info\n\t */\n\tinterpolationEasing?: $ease.Easing;\n\n}\n\nexport interface IComponentPrivate extends IContainerPrivate {\n}\n\nexport interface IComponentEvents extends IContainerEvents {\n\tdatavalidated: {}\n\tvalueschanged: {}\n}\n\n/**\n * A base class for elements that make use of data.\n */\nexport abstract class Component extends Container {\n\tpublic static className: string = \"Component\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Component.className]);\n\n\tdeclare public _settings: IComponentSettings;\n\tdeclare public _privateSettings: IComponentPrivate;\n\tdeclare public _dataItemSettings: IComponentDataItem;\n\tdeclare public _events: IComponentEvents;\n\n\tprotected _data: ListData<unknown> = new ListData();\n\n\tprotected _dataItems: Array<DataItem<this[\"_dataItemSettings\"]>> = [];\n\n\tpublic _mainDataItems = this._dataItems;\n\n\tprotected valueFields: Array<string> = [];\n\tprotected fields: Array<string> = [\"id\"];\n\n\tprotected _valueFields!: Array<string>;\n\tprotected _valueFieldsF!: { [index: string]: { fieldKey: string, workingKey: string } };\n\n\tprotected _fields!: Array<string>;\n\tprotected _fieldsF!: { [index: string]: string };\n\n\tpublic _valuesDirty: boolean = false;\n\n\tprotected _dataChanged: boolean = false;\n\n\tprotected _dataGrouped = false;\n\n\t/**\n\t * Indicates if the component has already been initialized.\n\t */\n\tpublic inited: boolean = false;\n\n\t/**\n\t * Component's data.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/data/} for more info\n\t */\n\tpublic set data(data: ListData<unknown>) {\n\t\tdata.incrementRef();\n\t\tthis._data.decrementRef();\n\t\tthis._data = data;\n\t}\n\n\t/**\n\t * @return  Data\n\t */\n\tpublic get data(): ListData<unknown> {\n\t\treturn this._data;\n\t}\n\n\tprotected _dispose() {\n\t\tsuper._dispose();\n\t\tthis._data.decrementRef();\n\t}\n\n\tprotected _onDataClear() {\n\n\t}\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._data.incrementRef();\n\t\tthis._updateFields();\n\n\t\tthis._disposers.push(this.data.events.onAll((change) => {\n\t\t\tconst dataItems = this._mainDataItems;\n\t\t\tthis.markDirtyValues();\n\t\t\tthis._markDirtyGroup();\n\t\t\tthis._dataChanged = true;\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(dataItems, (dataItem) => {\n\t\t\t\t\tdataItem.dispose();\n\t\t\t\t});\n\n\t\t\t\tdataItems.length = 0;\n\t\t\t\tthis._onDataClear();\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tconst dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\n\t\t\t\tdataItems.push(dataItem);\n\t\t\t\tthis.processDataItem(dataItem);\n\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.index];\n\t\t\t\tconst properties = this._makeDataItem(change.newValue);\n\t\t\t\tif (dataItem.bullets && dataItem.bullets.length == 0) {\n\t\t\t\t\tdataItem.bullets = undefined;\n\t\t\t\t}\n\n\t\t\t\t$object.keys(properties).forEach((key) => {\n\t\t\t\t\tdataItem.animate({\n\t\t\t\t\t\tkey: key,\n\t\t\t\t\t\tto: properties[key],\n\t\t\t\t\t\tduration: this.get(\"interpolationDuration\", 0),\n\t\t\t\t\t\teasing: this.get(\"interpolationEasing\"),\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tdataItem.dataContext = change.newValue;\n\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tconst dataItem = new DataItem(this, change.newValue, this._makeDataItem(change.newValue));\n\t\t\t\tdataItems.splice(change.index, 0, dataItem);\n\t\t\t\tthis.processDataItem(dataItem);\n\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.index];\n\t\t\t\tdataItem.dispose();\n\t\t\t\tdataItems.splice(change.index, 1);\n\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tconst dataItem = dataItems[change.oldIndex];\n\t\t\t\tdataItems.splice(change.oldIndex, 1);\n\t\t\t\tdataItems.splice(change.newIndex, 0, dataItem);\n\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IStreamEvent type\");\n\t\t\t}\n\n\t\t\tthis._afterDataChange();\n\t\t}));\n\t}\n\n\tprotected _updateFields() {\n\t\tif (this.valueFields) {\n\t\t\tthis._valueFields = [];\n\t\t\tthis._valueFieldsF = {};\n\n\t\t\t$array.each(this.valueFields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._valueFields.push(<any>key);\n\t\t\t\t\tthis._valueFieldsF[key as string] = { fieldKey: key + \"Field\", workingKey: key + \"Working\" };\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (this.fields) {\n\t\t\tthis._fields = [];\n\t\t\tthis._fieldsF = {};\n\n\t\t\t$array.each(this.fields as Array<keyof this[\"_settings\"]>, (key) => {\n\t\t\t\tconst field = this.get(<any>(key + \"Field\"));\n\t\t\t\tif (field) {\n\t\t\t\t\tthis._fields.push(<any>key);\n\t\t\t\t\tthis._fieldsF[key as string] = key + \"Field\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * A list of component's data items.\n\t *\n\t * @return  Data items\n\t */\n\tpublic get dataItems(): Array<DataItem<this[\"_dataItemSettings\"]>> {\n\t\treturn this._dataItems;\n\t}\n\n\tprotected processDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) { }\n\n\n\tpublic _makeDataItem(data: unknown): this[\"_dataItemSettings\"] {\n\t\t//const output: this[\"_dataItemSettings\"] = {};\n\t\tconst output: any = {}; // temporary to solve error\n\t\tif (this._valueFields) {\n\t\t\t$array.each(this._valueFields, (key) => {\n\t\t\t\tconst field = this.get(<any>(this._valueFieldsF[key].fieldKey));\n\t\t\t\toutput[key] = (data as any)[field];\n\n\t\t\t\toutput[this._valueFieldsF[key].workingKey] = output[key];\n\t\t\t});\n\t\t}\n\t\tif (this._fields) {\n\t\t\t$array.each(this._fields, (key) => {\n\t\t\t\tconst field = this.get(<any>(this._fieldsF[key]));\n\t\t\t\toutput[key] = (data as any)[field];\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a new data item and processes it.\n\t * \n\t * @param   data         Data item settings\n\t * @param   dataContext  Data context\n\t * @return               New data item\n\t */\n\tpublic makeDataItem(data: this[\"_dataItemSettings\"], dataContext?: any): DataItem<this[\"_dataItemSettings\"]> {\n\t\tlet dataItem = new DataItem(this, dataContext, data);\n\t\tthis.processDataItem(dataItem);\n\t\treturn dataItem;\n\t}\n\n\t/**\n\t * Adds new explicit data item to series.\n\t * \n\t * @param   data         Data item settings\n\t * @param   dataContext  Data context\n\t * @return               New data item\n\t */\n\tpublic pushDataItem(data: this[\"_dataItemSettings\"], dataContext?: any): DataItem<this[\"_dataItemSettings\"]> {\n\t\tconst dataItem = this.makeDataItem(data, dataContext);\n\t\tthis._mainDataItems.push(dataItem);\n\t\treturn dataItem;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\n\t}\n\n\t/**\n\t * Shows component's data item.\n\t *\n\t * @param   dataItem   Data item\n\t * @param   _duration  Animation duration in milliseconds\n\t * @return             Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, _duration?: number): Promise<void> {\n\t\tdataItem.set(\"visible\", true);\n\t}\n\n\t/**\n\t * Hides component's data item.\n\t *\n\t * @param   dataItem   Data item\n\t * @param   _duration  Animation duration in milliseconds\n\t * @return             Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, _duration?: number): Promise<void> {\n\t\tdataItem.set(\"visible\", false);\n\t}\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._valuesDirty = false;\n\t}\n\n\tprotected _afterDataChange() {\n\n\t}\n\n\tpublic _afterChanged() {\n\t\tsuper._afterChanged();\n\t\tif (this._dataChanged) {\n\t\t\tconst type = \"datavalidated\";\n\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this });\n\t\t\t}\n\t\t\tthis._dataChanged = false;\n\t\t}\n\n\t\tif (this._valuesDirty){\n\t\t\tconst type = \"valueschanged\";\n\t\t\tif (this.events.isEnabled(type)) {\n\t\t\t\tthis.events.dispatch(type, { type: type, target: this });\n\t\t\t}\n\t\t}\n\n\t\tthis.inited = true;\n\t}\n\n\t/**\n\t * Forces a repaint of the element which relies on data.\n\t *\n\t * @since 5.0.21\n\t */\n\tpublic markDirtyValues(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tthis.markDirty();\n\t\tthis._valuesDirty = true;\n\t}\n\n\tpublic _markDirtyGroup() {\n\t\tthis._dataGrouped = false;\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic markDirtySize() {\n\t\tthis._sizeDirty = true;\n\t\tthis.markDirty();\n\t}\n\n\t/**\n\t * Looks up and returns a data item by its ID.\n\t *\n\t * @param   id  ID\n\t * @return      Data item\n\t */\n\tpublic getDataItemById(id: string): DataItem<this[\"_dataItemSettings\"]> | undefined {\n\t\treturn $array.find(this.dataItems, (dataItem: any) => {\n\t\t\treturn dataItem.get(\"id\") == id;\n\t\t})\n\t}\t\n}\n","import { Container, IContainerSettings, IContainerPrivate, IContainerEvents } from \"../../core/render/Container\";\nimport { p100 } from \"../../core/util/Percent\";\n\nexport interface IChartSettings extends IContainerSettings {\n}\n\nexport interface IChartPrivate extends IContainerPrivate {\n}\n\nexport interface IChartEvents extends IContainerEvents {\n}\n\n/**\n * A base class for all charts.\n */\nexport abstract class Chart extends Container {\n\tpublic static className: string = \"Chart\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([Chart.className]);\n\n\tdeclare public _settings: IChartSettings;\n\tdeclare public _privateSettings: IChartPrivate;\n\tdeclare public _events: IChartEvents;\n\n\t/**\n\t * A [[Container]] chart places its elements in.\n\t * \n\t * @default Container.new()\n\t */\n\tpublic readonly chartContainer: Container = this.children.push(Container.new(this._root, { width: p100, height: p100, interactiveChildren: false }));\n\n\t/**\n\t * A [[Container]] chart places its bullets in.\n\t * \n\t * @default Container.new()\n\t */\n\tpublic readonly bulletsContainer: Container = Container.new(this._root, { interactiveChildren: false, isMeasured: false, position: \"absolute\", width: p100, height: p100 });\n\n}","import { Chart, IChartSettings, IChartPrivate, IChartEvents } from \"./Chart\";\nimport { Container } from \"../../core/render/Container\";\nimport { ListAutoDispose } from \"../../core/util/List\";\nimport { p100 } from \"../../core/util/Percent\";\n\nimport type { ColorSet } from \"../../core/util/ColorSet\";\nimport type { PatternSet } from \"../../core/util/PatternSet\";\nimport type { Series } from \"./Series\";\n\nimport * as $array from \"../../core/util/Array\";\n\nexport interface ISerialChartSettings extends IChartSettings {\n\n\t/**\n\t * A [[ColorSet]] to use when asigning colors for series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tcolors?: ColorSet;\n\n\t/**\n\t * A [[PatternSet]] to use when asigning patterns for series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/#Pattern_sets} for more info\n\t * @since 5.10.0\n\t */\n\tpatterns?: PatternSet;\n\n}\n\nexport interface ISerialChartPrivate extends IChartPrivate {\n}\n\nexport interface ISerialChartEvents extends IChartEvents {\n}\n\n/**\n * A base class for all series-based charts.\n */\nexport abstract class SerialChart extends Chart {\n\tpublic static className: string = \"SerialChart\";\n\tpublic static classNames: Array<string> = Chart.classNames.concat([SerialChart.className]);\n\n\tdeclare public _settings: ISerialChartSettings;\n\tdeclare public _privateSettings: ISerialChartPrivate;\n\tdeclare public _seriesType: Series;\n\tdeclare public _events: ISerialChartEvents;\n\n\t/**\n\t * A [[Container]] where chart will store all series.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly seriesContainer: Container = Container.new(this._root, { width: p100, height: p100, isMeasured: false });\n\n\t/**\n\t * A list of chart's series.\n\t */\n\tpublic readonly series: ListAutoDispose<this[\"_seriesType\"]> = new ListAutoDispose();\n\n\tprotected _afterNew() {\n\t\tsuper._afterNew();\n\n\t\tthis._disposers.push(this.series);\n\n\t\tconst children = this.seriesContainer.children;\n\n\t\tthis._disposers.push(this.series.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\t$array.each(change.oldValues, (series) => {\n\t\t\t\t\tthis._removeSeries(series);\n\t\t\t\t})\n\t\t\t\tconst colors = this.get(\"colors\");\n\t\t\t\tif (colors) {\n\t\t\t\t\tcolors.reset();\n\t\t\t\t}\n\n\t\t\t\tconst patterns = this.get(\"patterns\");\n\t\t\t\tif (patterns) {\n\t\t\t\t\tpatterns.reset();\n\t\t\t\t}\n\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tchildren.moveValue(change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tchildren.setIndex(change.index, change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tchildren.insertIndex(change.index, change.newValue);\n\t\t\t\tthis._processSeries(change.newValue);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._removeSeries(change.oldValue);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tchildren.moveValue(change.value, change.newIndex);\n\t\t\t\tthis._processSeries(change.value);\n\t\t\t} else if (change.type === \"swap\") {\n\t\t\t\tconst a = change.a;\n\t\t\t\tconst b = change.b;\n\t\t\t\tconst aIndex = this.series.indexOf(a);\n\t\t\t\tconst bIndex = this.series.indexOf(b);\n\t\t\t\tchildren.moveValue(a, bIndex);\n\t\t\t\tchildren.moveValue(b, aIndex);\n\n\t\t\t\tthis.series.each((series) => {\n\t\t\t\t\tthis._processSeries(series);\n\t\t\t\t\tseries.markDirtyValues();\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected _processSeries(series: this[\"_seriesType\"]) {\n\t\tseries.chart = this;\n\t\tseries._placeBulletsContainer(this);\n\t}\n\n\tprotected _removeSeries(series: this[\"_seriesType\"]) {\n\t\tseries._handleRemoved();\n\t\tif (!series.isDisposed()) {\n\t\t\tthis.seriesContainer.children.removeValue(series);\n\t\t\tseries._removeBulletsContainer();\n\t\t}\n\t}\n}\n","import { Entity, IEntitySettings, IEntityPrivate } from \"./Entity\";\nimport { Color } from \"./Color\";\n\n\nexport interface IColorSetSettings extends IEntitySettings {\n\n\t/**\n\t * List of colors in the set.\n\t */\n\tcolors?: Color[];\n\n\t/**\n\t * A step size when using `next()`.\n\t *\n\t * E.g. setting to `2` will make it return every second color in the list.\n\t *\n\t * @default 1\n\t */\n\tstep?: number;\n\n\t/**\n\t * Start iterating colors from specific index.\n\t */\n\tstartIndex?: number;\n\n\t/**\n\t * If set to `true`, color set will reuse existing colors from the list\n\t * inestead of generating new ones.\n\t *\n\t * @default false\n\t */\n\treuse?: boolean;\n\n\t/**\n\t * A base color to generate new colors from if `colors` is not specified.\n\t * @type {[type]}\n\t */\n\tbaseColor?: Color;\n\n\t/**\n\t * A set of tranformation to apply to base list of colors when the set runs\n\t * out of colors and generates additional ones.\n\t */\n\tpassOptions?: IColorSetStepOptions;\n\n\t/**\n\t * If set, each returned color will be applied saturation.\n\t */\n\tsaturation?: number;\n\n\t// count?: number;\n}\n\nexport interface IColorSetPrivate extends IEntityPrivate {\n\n\tcurrentStep?: number;\n\tcurrentPass?: number;\n\n\t/**\n\t * @ignore\n\t */\n\tnumColors?: number;\n\n}\n\nexport interface IColorSetStepOptions {\n\n\t/**\n\t * Value to add to \"hue\".\n\t */\n\thue?: number;\n\n\t/**\n\t * Value to add to \"saturation\".\n\t */\n\tsaturation?: number;\n\n\t/**\n\t * Value to add to \"lightness\".\n\t */\n\tlightness?: number;\n\n}\n\n\n/**\n * An object which holds list of colors and can generate new ones.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/#Color_sets} for more info\n */\nexport class ColorSet extends Entity {\n\tpublic static className: string = \"ColorSet\";\n\tpublic static classNames: Array<string> = Entity.classNames.concat([ColorSet.className]);\n\n\tdeclare public _settings: IColorSetSettings;\n\tdeclare public _privateSettings: IColorSetPrivate;\n\n\t//protected _currentPass: number = 0;\n\n\tprotected _afterNew() {\n\t\t// Applying themes because color set will not have parent\n\t\tsuper._afterNewApplyThemes();\n\t\tthis._dirty[\"colors\"] = false;\n\t}\n\n\tpublic _beforeChanged(): void {\n\t\tif (this.isDirty(\"colors\")) {\n\t\t\tthis.reset();\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic generateColors(): void {\n\t\tthis.setPrivate(\"currentPass\", this.getPrivate(\"currentPass\", 0) + 1)\n\t\tconst pass = this.getPrivate(\"currentPass\");\n\t\tconst colors = this.get(\"colors\", [this.get(\"baseColor\", Color.fromHex(0xff0000))]);\n\t\tif (!this.getPrivate(\"numColors\")) {\n\t\t\tthis.setPrivate(\"numColors\", colors.length);\n\t\t}\n\t\t//const len = colors.length;\n\t\tconst len = this.getPrivate(\"numColors\")!;\n\t\t//const start = len - this.getPrivate(\"numColors\")!;\n\t\tconst start = 0;\n\t\tconst passOptions = this.get(\"passOptions\")!;\n\t\tconst reuse = this.get(\"reuse\");\n\t\tfor (let i = start; i < len; i++) {\n\t\t\tif (reuse) {\n\t\t\t\tcolors.push(colors[i])\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst hsl = colors[i]!.toHSL();\n\t\t\t\tlet h = hsl.h + (passOptions.hue || 0) * pass!;\n\t\t\t\twhile (h > 1) h -= 1;\n\n\t\t\t\tlet s = hsl.s + (passOptions.saturation || 0) * pass!;\n\t\t\t\t//if (s > 1) s -= Math.floor(s);\n\t\t\t\tif (s > 1) s = 1;\n\t\t\t\tif (s < 0) s = 0;\n\n\t\t\t\tlet l = hsl.l + (passOptions.lightness || 0) * pass!;\n\t\t\t\t//if (l > 1) l -= Math.floor(l);\n\t\t\t\twhile (l > 1) l -= 1;\n\t\t\t\tcolors.push(Color.fromHSL(h, s, l));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns a [[Color]] at specific index.\n\t *\n\t * If there's no color at this index, a new color is generated.\n\t *\n\t * @param   index  Index\n\t * @return         Color\n\t */\n\tpublic getIndex(index: number): Color {\n\t\tconst colors = this.get(\"colors\", []);\n\t\tconst saturation = this.get(\"saturation\");\n\t\tif (index >= colors.length) {\n\t\t\tthis.generateColors();\n\t\t\treturn this.getIndex(index);\n\t\t}\n\n\t\treturn saturation != null ? Color.saturate(colors[index], saturation!) : colors[index];\n\t}\n\n\t/**\n\t * Returns next [[Color]] in the list.\n\t *\n\t * If the list is out of colors, new ones are generated dynamically.\n\t */\n\tpublic next() {\n\t\tlet currentStep = this.getPrivate(\"currentStep\", this.get(\"startIndex\", 0));\n\t\tthis.setPrivate(\"currentStep\", currentStep + this.get(\"step\", 1));\n\t\treturn this.getIndex(currentStep);\n\t}\n\n\t/**\n\t * Resets counter to the start of the list, so the next call for `next()` will\n\t * return the first color.\n\t */\n\tpublic reset() {\n\t\tthis.setPrivate(\"currentStep\", this.get(\"startIndex\", 0));\n\t\tthis.setPrivate(\"currentPass\", 0);\n\t}\n}\n","/**\n * ============================================================================\n * IMPORTS\n * ============================================================================\n * @hidden\n */\nimport * as $type from \"./Type\";\nimport * as $utils from \"./Utils\";\nimport type { Timezone } from \"./Timezone\";\nimport type { Root } from \"../Root\";\n\nexport type TimeUnit = \"millisecond\" | \"second\" | \"minute\" | \"hour\" | \"day\" | \"week\" | \"month\" | \"year\";\n\nexport interface ITimeInterval {\n\ttimeUnit: TimeUnit;\n\tcount: number;\n}\n\n\n/**\n * Returns a `Promise` which can be used to execute code after number of\n * milliseconds.\n *\n * @param   ms  Sleep duration in ms\n * @return      Promise\n */\nexport function sleep(ms: number): Promise<void> {\n\treturn new Promise((resolve, _reject) => {\n\t\tsetTimeout(resolve, ms);\n\t});\n}\n\n\n/**\n * Maps time period names to their numeric representations in milliseconds.\n *\n * @ignore Exclude from docs\n */\nexport let timeUnitDurations: { [Key in TimeUnit]: number } = {\n\tmillisecond: 1,\n\tsecond: 1000,\n\tminute: 60000,\n\thour: 3600000,\n\tday: 86400000,\n\tweek: 604800000,\n\tmonth: 365.242 / 12 * 86400000,\n\tyear: 31536000000\n};\n\n/**\n * Returns the next time unit that goes after source `unit`.\n *\n * E.g. \"hour\" is the next unit after \"minute\", etc.\n *\n * @ignore Exclude from docs\n * @param unit  Source time unit\n * @return Next time unit\n */\nexport function getNextUnit(unit: TimeUnit): TimeUnit | undefined {\n\tswitch (unit) {\n\t\tcase \"year\":\n\t\t\treturn;\n\t\tcase \"month\":\n\t\t\treturn \"year\";\n\n\t\tcase \"week\":\n\t\t\treturn \"month\";\n\n\t\tcase \"day\":\n\t\t\treturn \"month\"; // not a mistake\n\n\t\tcase \"hour\":\n\t\t\treturn \"day\";\n\n\t\tcase \"minute\":\n\t\t\treturn \"hour\";\n\n\t\tcase \"second\":\n\t\t\treturn \"minute\"\n\n\t\tcase \"millisecond\":\n\t\t\treturn \"second\";\n\t}\n}\n\n/**\n * Returns number of milliseconds in the `count` of time `unit`.\n *\n * Available units: \"millisecond\", \"second\", \"minute\", \"hour\", \"day\", \"week\",\n * \"month\", and \"year\".\n *\n * @param unit   Time unit\n * @param count  Number of units\n * @return Milliseconds\n */\nexport function getDuration(unit: TimeUnit, count?: number): number {\n\tif (count == null) {\n\t\tcount = 1;\n\t}\n\treturn timeUnitDurations[unit] * count;\n}\n\n/**\n * @ignore\n */\nexport function getIntervalDuration(interval: ITimeInterval | undefined) {\n\tif (interval) {\n\t\treturn timeUnitDurations[interval.timeUnit] * interval.count;\n\t}\n\treturn 0;\n}\n\n\nexport function getDateIntervalDuration(interval: ITimeInterval, date: Date, firstDateOfWeek?: number, utc?: boolean, timezone?: Timezone) {\n\tconst unit = interval.timeUnit;\n\tconst count = interval.count;\n\tif (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\n\t\treturn timeUnitDurations[interval.timeUnit] * interval.count;\n\t}\n\telse {\n\t\tconst firstTime = round(new Date(date.getTime()), unit, count, firstDateOfWeek, utc, undefined, timezone).getTime();\n\t\tlet lastTime = firstTime + count * getDuration(unit) * 1.05;\n\t\tlastTime = round(new Date(lastTime), unit, 1, firstDateOfWeek, utc, undefined, timezone).getTime();\n\t\treturn lastTime - firstTime;\n\t}\n}\n\n/**\n * Returns current `Date` object.\n *\n * @return Current date\n */\nexport function now(): Date {\n\treturn new Date();\n}\n\n/**\n * Returns current timestamp.\n *\n * @return Current timestamp\n */\nexport function getTime(): number {\n\treturn now().getTime();\n}\n\n/**\n * Returns a copy of the `Date` object.\n *\n * @param date  Source date\n * @return Copy\n */\nexport function copy(date: Date): Date {\n\treturn new Date(date.getTime()); // todo: check if this is ok. new Date(date) used to strip milliseconds on FF in v3\n}\n\n/**\n * Checks if the `unit` part of two `Date` objects do not match. Two dates\n * represent a \"range\" of time, rather the same time date.\n *\n * @param timeOne  timestamp\n * @param timeTwo  timestamp\n * @param unit     Time unit to check\n * @return Range?\n */\nexport function checkChange(timeOne: number, timeTwo: number, unit: TimeUnit, utc?: boolean, timezone?: Timezone): boolean {\n\t// quick\n\tif ((timeTwo - timeOne) > getDuration(unit, 1.2)) {\n\t\treturn true;\n\t}\n\n\tlet dateOne = new Date(timeOne);\n\tlet dateTwo = new Date(timeTwo);\n\n\tif (timezone) {\n\t\tdateOne = timezone.convertLocal(dateOne);\n\t\tdateTwo = timezone.convertLocal(dateTwo);\n\t}\n\n\tlet timeZoneOffset1 = 0;\n\tlet timeZoneOffset2 = 0;\n\n\tif (!utc && unit != \"millisecond\") {\n\t\ttimeZoneOffset1 = dateOne.getTimezoneOffset();\n\t\tdateOne.setUTCMinutes(dateOne.getUTCMinutes() - timeZoneOffset1);\n\n\t\ttimeZoneOffset2 = dateTwo.getTimezoneOffset();\n\t\tdateTwo.setUTCMinutes(dateTwo.getUTCMinutes() - timeZoneOffset2);\n\t}\n\n\tlet changed = false;\n\tswitch (unit) {\n\t\tcase \"year\":\n\t\t\tif (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"month\":\n\t\t\tif (dateOne.getUTCFullYear() != dateTwo.getUTCFullYear()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\telse if (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"day\":\n\t\t\tif (dateOne.getUTCMonth() != dateTwo.getUTCMonth()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\telse if (dateOne.getUTCDate() != dateTwo.getUTCDate()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase \"hour\":\n\t\t\tif (dateOne.getUTCHours() != dateTwo.getUTCHours()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"minute\":\n\t\t\tif (dateOne.getUTCMinutes() != dateTwo.getUTCMinutes()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\tcase \"second\":\n\t\t\tif (dateOne.getUTCSeconds() != dateTwo.getUTCSeconds()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"millisecond\":\n\t\t\tif (dateOne.getTime() != dateTwo.getTime()) {\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\tif (changed) {\n\t\treturn changed;\n\t}\n\n\tlet nextUnit = getNextUnit(unit);\n\tif (nextUnit) {\n\t\treturn checkChange(timeOne, timeTwo, nextUnit, utc, timezone);\n\t}\n\telse {\n\t\treturn false;\n\t}\n}\n\n/**\n * Adds `count` of time `unit` to the source date. Returns a modified `Date` object.\n *\n * @param date   Source date\n * @param unit   Time unit\n * @param count  Number of units to add\n * @return Modified date\n */\nexport function add(date: Date, unit: TimeUnit, count: number, utc?: boolean, timezone?: Timezone): Date {\n\tlet timeZoneOffset = 0;\n\n\tif (!utc && unit != \"millisecond\") {\n\t\ttimeZoneOffset = date.getTimezoneOffset();\n\n\t\tif (timezone) {\n\t\t\ttimeZoneOffset -= timezone.offsetUTC(date);\n\t\t}\n\n\t\tdate.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\n\t}\n\n\n\tswitch (unit) {\n\t\tcase \"day\":\n\t\t\tlet day: number = date.getUTCDate();\n\t\t\tdate.setUTCDate(day + count);\n\t\t\tbreak;\n\n\t\tcase \"second\":\n\t\t\tlet seconds: number = date.getUTCSeconds();\n\t\t\tdate.setUTCSeconds(seconds + count);\n\t\t\tbreak;\n\n\t\tcase \"millisecond\":\n\t\t\tlet milliseconds: number = date.getUTCMilliseconds();\n\t\t\tdate.setUTCMilliseconds(milliseconds + count);\n\t\t\tbreak;\n\n\t\tcase \"hour\":\n\t\t\tlet hours: number = date.getUTCHours();\n\t\t\tdate.setUTCHours(hours + count);\n\t\t\tbreak;\n\n\t\tcase \"minute\":\n\t\t\tlet minutes: number = date.getUTCMinutes();\n\t\t\tdate.setUTCMinutes(minutes + count);\n\t\t\tbreak;\n\n\t\tcase \"year\":\n\t\t\tlet year: number = date.getUTCFullYear();\n\t\t\tdate.setUTCFullYear(year + count);\n\t\t\tbreak;\n\n\t\tcase \"month\":\n\t\t\tconst endDays = date.getUTCDate();\n\t\t\tconst startDays = new Date(date.getUTCFullYear(), date.getUTCMonth(), 0).getUTCDate();\n\t\t\tlet month: number = date.getUTCMonth();\n\t\t\tif (endDays > startDays) {\n\t\t\t\tdate.setUTCMonth(month + count, startDays);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdate.setUTCMonth(month + count);\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase \"week\":\n\t\t\tlet wday: number = date.getUTCDate();\n\t\t\tdate.setUTCDate(wday + count * 7);\n\t\t\tbreak;\n\t}\n\n\n\tif (!utc && unit != \"millisecond\") {\n\t\tdate.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\n\t\tif (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\n\n\t\t\tlet newTimeZoneOffset = date.getTimezoneOffset();\n\n\t\t\tif (timezone) {\n\t\t\t\tnewTimeZoneOffset += timezone.offsetUTC(date);\n\t\t\t}\n\n\t\t\tif (newTimeZoneOffset != timeZoneOffset) {\n\t\t\t\tlet diff = newTimeZoneOffset - timeZoneOffset;\n\t\t\t\tdate.setUTCMinutes(date.getUTCMinutes() + diff);\n\n\t\t\t\t// solves issues if new time falls back to old time zone\n\t\t\t\tif (date.getTimezoneOffset() != newTimeZoneOffset) {\n\t\t\t\t\tdate.setUTCMinutes(date.getUTCMinutes() - diff);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn date;\n}\n\n/**\n * @ignore\n */\nexport function roun(time: number, unit: TimeUnit, count: number, root: Root, firstTime?: number): number {\n\tlet firstDate;\n\tif (firstTime != null) {\n\t\tfirstDate = new Date(firstTime);\n\t}\n\treturn round(new Date(time), unit, count, root.locale.firstDayOfWeek, root.utc, firstDate, root.timezone).getTime();\n}\n\n\n/**\n * \"Rounds\" the date to specific time unit.\n *\n * @param date             Source date\n * @param unit             Time unit\n * @param count            Number of units to round to\n * @param firstDateOfWeek  First day of week\n * @param utc              Use UTC timezone\n * @param firstDate        First date to round to\n * @param roundMinutes     Minutes to round to (some timezones use non-whole hour)\n * @param timezone         Use specific named timezone when rounding\n * @return New date\n */\nexport function round(date: Date, unit: TimeUnit, count: number, firstDateOfWeek?: number, utc?: boolean, firstDate?: Date, timezone?: Timezone): Date {\n\tif (!timezone || utc) {\n\n\t\tlet timeZoneOffset = 0;\n\n\t\tif (!utc && unit != \"millisecond\") {\n\t\t\ttimeZoneOffset = date.getTimezoneOffset();\n\t\t\tdate.setUTCMinutes(date.getUTCMinutes() - timeZoneOffset);\n\t\t}\n\n\t\tswitch (unit) {\n\n\t\t\tcase \"day\":\n\t\t\t\tlet day = date.getUTCDate();\n\n\t\t\t\tif (count > 1) {\n\t\t\t\t\t//\tday = Math.floor(day / count) * count;\n\t\t\t\t\tif (firstDate) {\n\t\t\t\t\t\tfirstDate = round(firstDate, \"day\", 1);\n\n\t\t\t\t\t\tlet difference = date.getTime() - firstDate.getTime();\n\t\t\t\t\t\tlet unitCount = Math.floor(difference / getDuration(\"day\") / count);\n\t\t\t\t\t\tlet duration = getDuration(\"day\", unitCount * count);\n\t\t\t\t\t\tdate.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdate.setUTCDate(day);\n\t\t\t\t}\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"second\":\n\t\t\t\tlet seconds = date.getUTCSeconds();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tseconds = Math.floor(seconds / count) * count;\n\t\t\t\t}\n\t\t\t\tdate.setUTCSeconds(seconds, 0);\n\t\t\t\tbreak;\n\n\t\t\tcase \"millisecond\":\n\t\t\t\tif (count == 1) {\n\t\t\t\t\treturn date; // much better for perf!\n\t\t\t\t}\n\n\t\t\t\tlet milliseconds = date.getUTCMilliseconds();\n\t\t\t\tmilliseconds = Math.floor(milliseconds / count) * count;\n\t\t\t\tdate.setUTCMilliseconds(milliseconds);\n\t\t\t\tbreak;\n\n\t\t\tcase \"hour\":\n\n\t\t\t\tlet hours = date.getUTCHours();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\thours = Math.floor(hours / count) * count;\n\t\t\t\t}\n\t\t\t\tdate.setUTCHours(hours, 0, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"minute\":\n\n\t\t\t\tlet minutes = date.getUTCMinutes();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tminutes = Math.floor(minutes / count) * count;\n\t\t\t\t}\n\n\t\t\t\tdate.setUTCMinutes(minutes, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"month\":\n\n\t\t\t\tlet month = date.getUTCMonth();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\t// only do this if count is 2, 3, 4, and 6\n\t\t\t\t\tif (count == 2 || count == 3 || count == 4 || count == 6) {\n\t\t\t\t\t\tmonth = Math.floor(month / count) * count;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdate.setUTCMonth(month, 1);\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"year\":\n\n\t\t\t\tlet year = date.getUTCFullYear();\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tyear = Math.floor(year / count) * count;\n\t\t\t\t}\n\t\t\t\tdate.setUTCFullYear(year, 0, 1);\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\t\t\t\tbreak;\n\n\t\t\tcase \"week\":\n\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tif (firstDate) {\n\t\t\t\t\t\tfirstDate = round(firstDate, \"week\", 1);\n\n\t\t\t\t\t\tlet difference = date.getTime() - firstDate.getTime();\n\t\t\t\t\t\tlet unitCount = Math.floor(difference / getDuration(\"week\") / count);\n\t\t\t\t\t\tlet duration = getDuration(\"week\", unitCount * count);\n\n\t\t\t\t\t\tdate.setTime(firstDate.getTime() + duration - timeZoneOffset * getDuration(\"minute\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet wday = date.getUTCDate();\n\t\t\t\tlet weekDay = date.getUTCDay();\n\n\t\t\t\tif (!$type.isNumber(firstDateOfWeek)) {\n\t\t\t\t\tfirstDateOfWeek = 1;\n\t\t\t\t}\n\n\t\t\t\tif (weekDay >= firstDateOfWeek) {\n\t\t\t\t\twday = wday - weekDay + firstDateOfWeek;\n\t\t\t\t} else {\n\t\t\t\t\twday = wday - (7 + weekDay) + firstDateOfWeek;\n\t\t\t\t}\n\n\t\t\t\tdate.setUTCDate(wday);\n\t\t\t\tdate.setUTCHours(0, 0, 0, 0);\n\n\t\t\t\tbreak;\n\t\t}\n\t\tif (!utc && unit != \"millisecond\") {\n\t\t\tdate.setUTCMinutes(date.getUTCMinutes() + timeZoneOffset);\n\n\t\t\tif (unit == \"day\" || unit == \"week\" || unit == \"month\" || unit == \"year\") {\n\t\t\t\tlet newTimeZoneOffset = date.getTimezoneOffset();\n\t\t\t\tif (newTimeZoneOffset != timeZoneOffset) {\n\t\t\t\t\tlet diff = newTimeZoneOffset - timeZoneOffset;\n\n\t\t\t\t\tdate.setUTCMinutes(date.getUTCMinutes() + diff);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn date;\n\t}\n\telse {\n\t\tif (isNaN(date.getTime())) {\n\t\t\treturn date;\n\t\t}\n\t\tlet initialTime = date.getTime();\n\t\tlet tzoffset = timezone.offsetUTC(date);\n\t\tlet timeZoneOffset = date.getTimezoneOffset();\n\t\tlet parsedDate = timezone.parseDate(date);\n\t\tlet year = parsedDate.year;\n\t\tlet month = parsedDate.month;\n\t\tlet day = parsedDate.day;\n\t\tlet hour = parsedDate.hour;\n\t\tlet minute = parsedDate.minute;\n\t\tlet second = parsedDate.second;\n\t\tlet millisecond = parsedDate.millisecond;\n\t\tlet weekday = parsedDate.weekday;\n\n\t\tlet offsetDif = tzoffset - timeZoneOffset;\n\n\t\tswitch (unit) {\n\n\t\t\tcase \"day\":\n\t\t\t\tif (count > 1 && firstDate) {\n\t\t\t\t\tfirstDate = round(firstDate, \"day\", 1, firstDateOfWeek, utc, undefined, timezone);\n\t\t\t\t\tlet difference = date.getTime() - firstDate.getTime();\n\t\t\t\t\tlet unitCount = Math.floor(difference / getDuration(\"day\") / count);\n\t\t\t\t\tlet duration = getDuration(\"day\", unitCount * count);\n\t\t\t\t\tdate.setTime(firstDate.getTime() + duration);\n\n\t\t\t\t\tparsedDate = timezone.parseDate(date);\n\n\t\t\t\t\tyear = parsedDate.year;\n\t\t\t\t\tmonth = parsedDate.month;\n\t\t\t\t\tday = parsedDate.day;\n\t\t\t\t}\n\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"second\":\n\t\t\t\tminute += offsetDif;\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tsecond = Math.floor(second / count) * count;\n\t\t\t\t}\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"millisecond\":\n\t\t\t\tminute += offsetDif;\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tmillisecond = Math.floor(millisecond / count) * count;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"hour\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\thour = Math.floor(hour / count) * count;\n\t\t\t\t}\n\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"minute\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tminute = Math.floor(minute / count) * count;\n\t\t\t\t}\n\t\t\t\tminute += offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"month\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tmonth = Math.floor(month / count) * count;\n\t\t\t\t}\n\t\t\t\tday = 1;\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"year\":\n\t\t\t\tif (count > 1) {\n\t\t\t\t\tyear = Math.floor(year / count) * count;\n\t\t\t\t}\n\t\t\t\tmonth = 0;\n\t\t\t\tday = 1;\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"week\":\n\t\t\t\tif (!$type.isNumber(firstDateOfWeek)) {\n\t\t\t\t\tfirstDateOfWeek = 1;\n\t\t\t\t}\n\n\t\t\t\tif (weekday >= firstDateOfWeek) {\n\t\t\t\t\tday = day - weekday + firstDateOfWeek;\n\t\t\t\t} else {\n\t\t\t\t\tday = day - (7 + weekday) + firstDateOfWeek;\n\t\t\t\t}\n\n\t\t\t\thour = 0;\n\t\t\t\tminute = offsetDif;\n\t\t\t\tsecond = 0;\n\t\t\t\tmillisecond = 0;\n\t\t\t\tbreak;\n\t\t}\n\n\n\n\t\tdate = new Date(year, month, day, hour, minute, second, millisecond);\n\n\t\t// fix to solve #101989\n\t\tconst newTime = date.getTime();\n\t\tlet hDuration = 3600000;\n\t\tif (unit == \"hour\") {\n\t\t\thDuration = 3600000 * count;\n\t\t}\n\n\t\tif (newTime + hDuration <= initialTime) {\n\t\t\tif (unit == \"hour\" || unit == \"minute\" || unit == \"second\" || unit == \"millisecond\") {\n\t\t\t\tdate = new Date(newTime + hDuration);\n\t\t\t}\n\t\t}\n\t\t// end of fix\n\n\t\tlet newTimeZoneOffset = date.getTimezoneOffset();\n\t\tlet newTzoffset = timezone.offsetUTC(date);\n\t\tlet newDiff = newTzoffset - newTimeZoneOffset;\n\n\t\tif (newDiff != offsetDif) {\n\t\t\tdate.setTime(date.getTime() + (newDiff - offsetDif) * 60000);\n\t\t}\n\n\t\treturn date;\n\t}\n}\n\n\n\n/**\n * @ignore\n */\nexport function chooseInterval(index: number, duration: number, gridCount: number, intervals: Array<ITimeInterval>): ITimeInterval {\n\tlet gridInterval: ITimeInterval = intervals[index];\n\tlet intervalDuration = getIntervalDuration(gridInterval);\n\n\tlet lastIndex = intervals.length - 1;\n\tif (index >= lastIndex) {\n\t\treturn { ...intervals[lastIndex] };\n\t}\n\n\tlet count = Math.ceil(duration / intervalDuration);\n\n\tif (duration < intervalDuration && index > 0) {\n\t\treturn { ...intervals[index - 1] };\n\t}\n\tif (count <= gridCount) {\n\t\treturn { ...intervals[index] };\n\t} else {\n\t\tif (index + 1 < intervals.length) {\n\t\t\treturn chooseInterval(index + 1, duration, gridCount, intervals);\n\t\t} else {\n\t\t\treturn { ...intervals[index] };\n\t\t}\n\t}\n}\n\n/**\n * @ignore\n */\nexport function getUnitValue(date: Date, unit: TimeUnit) {\n\tswitch (unit) {\n\t\tcase \"day\":\n\t\t\treturn date.getDate();\n\t\tcase \"second\":\n\t\t\treturn date.getSeconds();\n\t\tcase \"millisecond\":\n\t\t\treturn date.getMilliseconds();\n\t\tcase \"hour\":\n\t\t\treturn date.getHours();\n\t\tcase \"minute\":\n\t\t\treturn date.getMinutes();\n\t\tcase \"month\":\n\t\t\treturn date.getMonth();\n\t\tcase \"year\":\n\t\t\treturn date.getFullYear();\n\t\tcase \"week\":\n\t\t\treturn $utils.getWeek(date);\n\t}\n}\n","import type { Root } from \"../../core/Root\";\nimport type { Chart } from \"./Chart\";\nimport type { Bullet } from \"./Bullet\";\nimport type { Graphics } from \"../../core/render/Graphics\";\nimport type { ILegendDataItem } from \"./Legend\";\nimport type { Template } from \"../../core/util/Template\";\nimport type { Sprite } from \"../../core/render/Sprite\";\nimport type { Pattern } from \"./patterns/Pattern\";\n\nimport { Component, IComponentSettings, IComponentPrivate, DataItem, IComponentEvents, IComponentDataItem } from \"../../core/render/Component\";\nimport { List } from \"../../core/util/List\";\nimport { Color } from \"../../core/util/Color\";\nimport { percentInterpolate } from \"../../core/util/Animation\";\nimport { Percent } from \"../../core/util/Percent\";\nimport { p100 } from \"../../core/util/Percent\";\nimport { Container } from \"../../core/render/Container\";\nimport { Label } from \"../../core/render/Label\";\n//import { Animations } from \"../../core/util/Animation\";\n\nimport * as $array from \"../../core/util/Array\";\nimport * as $type from \"../../core/util/Type\";\nimport * as $time from \"../../core/util/Time\";\n\n/**\n * Defines interface for a heat rule.\n *\n * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/heat-rules/} for more info\n */\nexport interface IHeatRule {\n\n\t/**\n\t * Target template.\n\t */\n\ttarget: Template<any>;\n\n\t/**\n\t * The setting value to use for items if the lowest value.\n\t */\n\tmin?: any;\n\n\t/**\n\t * The setting value to use for items if the highest value.\n\t */\n\tmax?: any;\n\n\t/**\n\t * The setting value to use for items which do not have value at all.\n\t */\n\tneutral?: any;\n\n\t/**\n\t * Which data field to use when determining item's value.\n\t */\n\tdataField: string;\n\n\t/**\n\t * A setting key to set.\n\t */\n\tkey?: string;\n\n\t/**\n\t * Custom lowest value.\n\t */\n\tminValue?: number;\n\n\t/**\n\t * Custom highest value.\n\t */\n\tmaxValue?: number;\n\n\t/**\n\t * Use logarithmic scale when calculating intermediate setting values.\n\t *\n\t * @default false\n\t */\n\tlogarithmic?: boolean;\n\n\t/**\n\t * A custom function that will set target element's settings.\n\t *\n\t * Can be used to do custom manipulation on complex objects requiring more\n\t * than modifying a setting.\n\t */\n\tcustomFunction?: (target: Sprite, minValue: number, maxValue: number, value?: any) => void;\n\n}\n\n\nexport interface ISeriesDataItem extends IComponentDataItem {\n\tid?: string;\n\tvalue?: number;\n\tvalueWorking?:number;\n\tvalueChange?: number;\n\tvalueChangePercent?: number;\n\tvalueChangeSelection?: number;\n\tvalueChangeSelectionPercent?: number;\n\tvalueChangePrevious?: number;\n\tvalueChangePreviousPercent?: number;\n\tvalueWorkingOpen?: number;\n\tvalueWorkingClose?: number;\n\n\tcustomValue?: number;\n\tcustomValueWorking?:number;\n\tcustomValueChange?: number;\n\tcustomValueChangePercent?: number;\n\tcustomValueChangeSelection?: number;\n\tcustomValueChangeSelectionPercent?: number;\n\tcustomValueChangePrevious?: number;\n\tcustomValueChangePreviousPercent?: number;\n}\n\nexport interface ISeriesSettings extends IComponentSettings {\n\n\t/**\n\t * Name of the series.\n\t */\n\tname?: string;\n\n\t/**\n\t * A key to look up in data for an id of the data item.\n\t */\n\tidField?: string;\n\n\t/**\n\t * A key to look up in data for a numeric value of the data item.\n\t *\n\t * Some series use it to display its elements. It can also be used in heat\n\t * rules.\n\t */\n\tvalueField?: string;\n\n\t/**\n\t * A key to look up in data for a numeric customValue of the data item.\n\t *\n\t * Usually used for storing additional numeric information and heat rules.\n\t */\n\tcustomValueField?: string;\t\n\n\t/**\n\t * A text template to be used for label in legend.\n\t */\n\tlegendLabelText?: string;\n\n\t/**\n\t * A text template to be used for value label in legend.\n\t */\n\tlegendValueText?: string;\n\n\t/**\n\t * If set to `true` the series initial animation will be played item by item\n\t * rather than all at once.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animation_of_series} for more info\n\t */\n\tsequencedInterpolation?:boolean;\n\n\t/**\n\t * A delay in milliseconds to wait before starting animation of next data\n\t * item.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/animations/#Animation_of_series} for more info\n\t */\n\tsequencedDelay?:number;\n\n\t/**\n\t * A list of heat rules to apply on series elements.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/settings/heat-rules/} for more info\n\t */\n\theatRules?:IHeatRule[];\n\n\t/**\n\t * If set to `true`, series will calculate aggregate values, e.g. change\n\t * percent, high, low, etc.\n\t *\n\t * Do not enable unless you are using such aggregate values in tooltips,\n\t * display data fields, heat rules, or similar.\n\t */\n\tcalculateAggregates?: boolean;\n\n\t/**\n\t * Series stroke color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tstroke?: Color;\n\n\t/**\n\t * Series fill color.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/charts/xy-chart/series/#Series_colors} for more info\n\t */\n\tfill?: Color;\n\n\t/**\n\t * Series fill pattern.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/colors-gradients-and-patterns/patterns/} for more info\n\t * @since 5.10.0\n\t */\n\tfillPattern?: Pattern;\n\n\t/**\n\t * A data item representing series in a [[Legend]].\n\t *\n\t * @readonly\n\t */\n\tlegendDataItem?: DataItem<ILegendDataItem>;\n\n}\n\nexport interface ISeriesPrivate extends IComponentPrivate {\n\n\t/**\n\t * @ignore\n\t */\n\tchart?: Chart;\n\tstartIndex?: number;\n\tendIndex?: number;\n\tadjustedStartIndex?:number;\n\n\tvalueAverage?: number;\n\tvalueCount?: number;\n\tvalueSum?: number;\n\tvalueAbsoluteSum?: number;\n\tvalueLow?: number;\n\tvalueHigh?: number;\n\tvalueOpen?: number;\n\tvalueClose?: number;\n\n\tcustomValueAverage?: number;\n\tcustomValueCount?: number;\n\tcustomValueSum?: number;\n\tcustomValueAbsoluteSum?: number;\n\tcustomValueLow?: number;\n\tcustomValueHigh?: number;\n\tcustomValueOpen?: number;\n\tcustomValueClose?: number;\t\n\n\tbaseValueSeries?: Series;\n}\n\nexport interface ISeriesEvents extends IComponentEvents {\n\n}\n\n/**\n * A base class for all series.\n */\nexport abstract class Series extends Component {\n\tpublic static className: string = \"Series\";\n\tpublic static classNames: Array<string> = Component.classNames.concat([Series.className]);\n\n\tdeclare public _settings: ISeriesSettings;\n\tdeclare public _privateSettings: ISeriesPrivate;\n\tdeclare public _dataItemSettings: ISeriesDataItem;\n\tdeclare public _events: ISeriesEvents;\n\n\tprotected _aggregatesCalculated: boolean = false;\n\tprotected _selectionAggregatesCalculated: boolean = false;\n\tprotected _dataProcessed: boolean = false;\n\n\tprotected _psi: number | undefined;\n\tprotected _pei: number | undefined;\n\n\tprotected _baseSeriesDirty: boolean = false;\n\n\t/**\n\t * A chart series belongs to.\n\t */\n\tpublic chart:Chart | undefined;\n\n\t/**\n\t * List of bullets to use for the series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/} for more info\n\t */\n\tpublic bullets: List<<D extends DataItem<this[\"_dataItemSettings\"]>>(root: Root, series:Series, dataItem: D) => Bullet | undefined> = new List();\n\n\t/**\n\t * A [[Container]] series' bullets are stored in.\n\t *\n\t * @default Container.new()\n\t */\n\tpublic readonly bulletsContainer: Container = Container.new(this._root, {width:p100, height:p100, position:\"absolute\"});\n\n\tprotected _afterNew() {\n\t\tthis.valueFields.push(\"value\", \"customValue\");\n\n\t\tsuper._afterNew();\n\n\t\tthis.setPrivate(\"customData\", {});\n\n\t\tthis._disposers.push(this.bullets.events.onAll((change) => {\n\t\t\tif (change.type === \"clear\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"push\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"setIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"insertIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"removeIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else if (change.type === \"moveIndex\") {\n\t\t\t\tthis._handleBullets(this.dataItems);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unknown IListEvent type\");\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected _dispose(){\n\t\tthis.bulletsContainer.dispose(); // can be in a different parent\n\t\tsuper._dispose();\n\t}\n\n\tpublic startIndex():number {\n\t\tlet len = this.dataItems.length;\n\t\treturn Math.min(this.getPrivate(\"startIndex\", 0), len);\n\t}\n\n\tpublic endIndex():number {\n\t\tlet len = this.dataItems.length;\n\t\treturn Math.max(0, Math.min(this.getPrivate(\"endIndex\", len), len));\n\t}\n\n\tprotected _handleBullets(dataItems:Array<DataItem<this[\"_dataItemSettings\"]>>){\n\t\t$array.each(dataItems, (dataItem)=>{\n\t\t\tconst bullets = dataItem.bullets;\n\t\t\tif(bullets){\n\t\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\t\tbullet.dispose();\n\t\t\t\t})\n\n\t\t\t\tdataItem.bullets = undefined;\n\t\t\t}\n\t\t})\n\n\t\tthis.markDirtyValues();\n\t}\n\n\n\tprotected _makeBullets(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif(this._shouldMakeBullet(dataItem)){\n\t\t\tdataItem.bullets = [];\n\n\t\t\tthis.bullets.each((bulletFunction) => {\n\t\t\t\tthis._makeBullet(dataItem, bulletFunction);\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _shouldMakeBullet(_dataItem: DataItem<this[\"_dataItemSettings\"]>):boolean{\n\t\treturn true;\n\t}\n\n\tprotected _makeBullet(dataItem: DataItem<this[\"_dataItemSettings\"]>, bulletFunction:(root: Root, series:Series, dataItem: DataItem<this[\"_dataItemSettings\"]>) => Bullet | undefined, index?:number):Bullet | undefined{\n\t\tconst bullet = bulletFunction(this._root, this, dataItem);\n\t\tif(bullet){\n\t\t\tbullet._index = index;\n\t\t\tthis._makeBulletReal(dataItem, bullet);\n\t\t}\n\t\treturn bullet;\n\t}\n\n\tprotected _makeBulletReal(dataItem: DataItem<this[\"_dataItemSettings\"]>, bullet:Bullet){\n\t\tlet sprite = bullet.get(\"sprite\");\n\n\t\tif (sprite) {\n\t\t\tsprite._setDataItem(dataItem);\n\t\t\tsprite.setRaw(\"position\", \"absolute\");\n\t\t\tthis.bulletsContainer.children.push(sprite);\n\t\t}\n\t\tbullet.series = this;\n\t\tdataItem.bullets!.push(bullet);\n\t}\n\n\t/**\n\t * Adds bullet directly to a data item.\n\t *\n\t * Please note: method accepts [[Bullet]] instance as a paramter, not a\n\t * reference to a function.\n\t *\n\t * You should add Bullet instance, not a method like you do it on series.\n\t *\n\t * @see {@link https://www.amcharts.com/docs/v5/concepts/common-elements/bullets/#Adding_directly_to_data_item} for more info\n\t * @since 5.6.0\n\t *\n\t * @param  dataItem  Target data item\n\t * @param  bullet    Bullet instance\n\t */\n\tpublic addBullet(dataItem:DataItem<this[\"_dataItemSettings\"]>, bullet:Bullet){\n\t\tif(!dataItem.bullets){\n\t\t\tdataItem.bullets = [];\n\t\t}\n\t\tif(bullet){\n\t\t\tthis._makeBulletReal(dataItem, bullet);\n\t\t}\n\t}\t\n\n\tpublic _clearDirty() {\n\t\tsuper._clearDirty();\n\t\tthis._aggregatesCalculated = false;\n\t\tthis._baseSeriesDirty = false;\n\t\tthis._selectionAggregatesCalculated = false;\n\t}\n\n\tpublic _prepareChildren(){\n\t\tsuper._prepareChildren();\n\n\t\tlet startIndex = this.startIndex();\n\t\tlet endIndex = this.endIndex();\n\n\t\tif(this.isDirty(\"name\")){\n\t\t\tthis.updateLegendValue();\n\t\t}\n\n\t\tif(this.isDirty(\"heatRules\")){\n\t\t\tthis._valuesDirty = true;\n\t\t}\n\n\t\tif(this.isPrivateDirty(\"baseValueSeries\")){\n\t\t\tconst baseValueSeries = this.getPrivate(\"baseValueSeries\");\n\t\t\tif(baseValueSeries){\n\t\t\t\tthis._disposers.push(baseValueSeries.onPrivate(\"startIndex\", ()=>{\n\t\t\t\t\tthis._baseSeriesDirty = true;\n\t\t\t\t\tthis.markDirtyValues();\n\t\t\t\t}))\n\t\t\t}\n\t\t}\n\n\t\tconst calculateAggregates = this.get(\"calculateAggregates\");\n\t\tif(calculateAggregates){\n\t\t\tif (this._valuesDirty && !this._dataProcessed) {\n\t\t\t\tif (!this._aggregatesCalculated) {\n\t\t\t\t\tthis._calculateAggregates(0, this.dataItems.length);\n\t\t\t\t\tthis._aggregatesCalculated = true;\n\t\t\t\t\tif(startIndex != 0){\n\t\t\t\t\t\tthis._psi = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ((this._psi != startIndex || this._pei != endIndex || this.isPrivateDirty(\"adjustedStartIndex\")) && !this._selectionAggregatesCalculated) {\n\t\t\t\tif (startIndex === 0 && endIndex === this.dataItems.length && this._aggregatesCalculated) {\n\t\t\t\t\t// void\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis._calculateAggregates(startIndex, endIndex);\n\t\t\t\t}\n\n\t\t\t\tthis._selectionAggregatesCalculated = true;\n\t\t\t}\n\t\t}\n\n\t\tif(this.isDirty(\"tooltip\")){\n\t\t\tlet tooltip = this.get(\"tooltip\");\n\t\t\tif(tooltip){\n\t\t\t\ttooltip.hide(0);\n\t\t\t\ttooltip.set(\"tooltipTarget\", this);\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"fill\") || this.isDirty(\"stroke\")) {\n\n\t\t\tlet markerRectangle: Graphics | undefined;\n\t\t\tconst legendDataItem = this.get(\"legendDataItem\");\n\t\t\tif (legendDataItem) {\n\t\t\t\tmarkerRectangle = legendDataItem.get(\"markerRectangle\");\n\n\t\t\t\tif (markerRectangle) {\n\t\t\t\t\tif(this.isVisible()){\n\t\t\t\t\t\tif (this.isDirty(\"stroke\")) {\n\t\t\t\t\t\t\tlet stroke = this.get(\"stroke\");\n\t\t\t\t\t\t\tmarkerRectangle.set(\"stroke\", stroke);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.isDirty(\"fill\")) {\n\t\t\t\t\t\t\tlet fill = this.get(\"fill\");\n\t\t\t\t\t\t\tmarkerRectangle.set(\"fill\", fill);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.updateLegendMarker(undefined);\n\t\t}\n\n\n\t\tif (this.bullets.length > 0) {\n\t\t\tlet startIndex = this.startIndex();\n\t\t\tlet endIndex = this.endIndex();\n\n\t\t\tif(endIndex < this.dataItems.length){\n\t\t\t\tendIndex++;\n\t\t\t}\n\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tlet dataItem = this.dataItems[i];\n\t\t\t\tif (!dataItem.bullets) {\n\t\t\t\t\tthis._makeBullets(dataItem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n\n\tpublic _handleRemoved(){\n\t\t\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _adjustStartIndex(index:number):number{\n\t\treturn index;\n\t}\n\n\tprotected _calculateAggregates(startIndex: number, endIndex: number) {\n\t\tlet fields = this._valueFields;\n\n\t\tif (!fields) {\n\t\t\tthrow new Error(\"No value fields are set for the series.\");\n\t\t}\n\n\t\tconst sum: { [index: string]: number } = {};\n\t\tconst absSum: { [index: string]: number } = {};\n\t\tconst count: { [index: string]: number } = {};\n\t\tconst low: { [index: string]: number } = {};\n\t\tconst high: { [index: string]: number } = {};\n\t\tconst open: { [index: string]: number } = {};\n\t\tconst close: { [index: string]: number } = {};\n\t\tconst average: { [index: string]: number } = {};\n\t\tconst previous: { [index: string]: number } = {};\n\n\t\t$array.each(fields, (key) => {\n\t\t\tsum[key] = 0;\n\t\t\tabsSum[key] = 0;\n\t\t\tcount[key] = 0;\n\t\t})\n\n\t\tconst len = this.dataItems.length;\n\n\t\t$array.each(fields, (key) => {\n\t\t\tlet change = key + \"Change\";\n\t\t\tlet changePercent = key + \"ChangePercent\";\n\t\t\tlet changePrevious = key + \"ChangePrevious\";\n\t\t\tlet changePreviousPercent = key + \"ChangePreviousPercent\";\n\t\t\tlet changeSelection = key + \"ChangeSelection\";\n\t\t\tlet changeSelectionPercent = key + \"ChangeSelectionPercent\";\n\n\t\t\tlet openKey = \"valueY\";\n\n\t\t\tif(key == \"valueX\" || key == \"openValueX\" || key == \"lowValueX\" || key == \"highValueX\"){\n\t\t\t\topenKey = \"valueX\";\n\t\t\t}\n\n\t\t\tconst baseValueSeries = this.getPrivate(\"baseValueSeries\");\n\t\t\tconst adjustedStartIndex = this.getPrivate(\"adjustedStartIndex\", startIndex);\n\t\t\t\n\t\t\t// Function to calculate changes for a single data item\n\t\t\tconst calculateChangesForItem = (dataItem: any, key: string) => {\n\t\t\t\tif (dataItem) {\n\t\t\t\t\tlet value = dataItem.get(<any>key);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePrevious), value - previous[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelection), value - open[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\n\t\t\t\t\t\tprevious[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\t\t\t\n\n\t\t\tfor (let i = adjustedStartIndex; i < endIndex; i++) {\n\t\t\t\tconst dataItem = this.dataItems[i];\n\t\t\t\tif(dataItem){\n\t\t\t\t\tlet value = dataItem.get(<any>key)\n\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tcount[key]++;\n\t\t\t\t\t\tsum[key] += value;\n\n\t\t\t\t\t\tabsSum[key] += Math.abs(value);\n\n\t\t\t\t\t\taverage[key] = sum[key] / count[key];\n\n\t\t\t\t\t\tif (low[key] > value || low[key] == null) {\n\t\t\t\t\t\t\tlow[key] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (high[key] < value || high[key] == null) {\n\t\t\t\t\t\t\thigh[key] = value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tclose[key] = value;\n\n\t\t\t\t\t\tif (open[key] == null) {\n\t\t\t\t\t\t\topen[key] = value;\n\t\t\t\t\t\t\tprevious[key] = value;\n\n\t\t\t\t\t\t\tif(baseValueSeries){\n\t\t\t\t\t\t\t\topen[openKey] = baseValueSeries._getBase(openKey);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (startIndex === 0) {\n\t\t\t\t\t\t\tdataItem.setRaw(<any>(change), value - open[openKey]);\n\t\t\t\t\t\t\tdataItem.setRaw(<any>(changePercent), (value - open[openKey]) / open[openKey] * 100);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcalculateChangesForItem(dataItem, key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate for endIndex item\n\t\t\tif (endIndex < len) {\n\t\t\t\tcalculateChangesForItem(this.dataItems[endIndex], key);\n\t\t\t}\n\t\t\t\n\t\t\t// Calculate for endIndex+1 item if available\n\t\t\tif (endIndex + 1 < len) {\n\t\t\t\tcalculateChangesForItem(this.dataItems[endIndex + 1], key);\n\t\t\t}\n\n\t\t\tif (startIndex > 0) {\n\t\t\t\tstartIndex--;\n\t\t\t}\n\n\t\t\tdelete previous[key];\n\n\t\t\tfor (let i = startIndex; i < adjustedStartIndex; i++) {\n\t\t\t\tconst dataItem = this.dataItems[i];\n\t\t\t\tif(dataItem) {\n\t\t\t\t\tlet value = dataItem.get(<any>key);\n\n\t\t\t\t\tif (previous[key] == null) {\n\t\t\t\t\t\tprevious[key] = value;\n\t\t\t\t\t}\t\t\t\t\n\t\t\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePrevious), value - previous[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changePreviousPercent), (value - previous[openKey]) / previous[openKey] * 100);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelection), value - open[openKey]);\n\t\t\t\t\t\tdataItem.setRaw(<any>(changeSelectionPercent), (value - open[openKey]) / open[openKey] * 100);\n\t\t\n\t\t\t\t\t\tprevious[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\t$array.each(fields, (key) => {\n\t\t\tthis.setPrivate(<any>(key + \"AverageSelection\"), average[key]);\n\t\t\tthis.setPrivate(<any>(key + \"CountSelection\"), count[key]);\n\t\t\tthis.setPrivate(<any>(key + \"SumSelection\"), sum[key]);\n\t\t\tthis.setPrivate(<any>(key + \"AbsoluteSumSelection\"), absSum[key]);\n\t\t\tthis.setPrivate(<any>(key + \"LowSelection\"), low[key]);\n\t\t\tthis.setPrivate(<any>(key + \"HighSelection\"), high[key]);\n\t\t\tthis.setPrivate(<any>(key + \"OpenSelection\"), open[key]);\n\t\t\tthis.setPrivate(<any>(key + \"CloseSelection\"), close[key]);\n\t\t})\n\n\t\tif (startIndex === 0 && endIndex === len) {\n\t\t\t$array.each(fields, (key) => {\n\t\t\t\tthis.setPrivate(<any>(key + \"Average\"), average[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Count\"), count[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Sum\"), sum[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"AbsoluteSum\"), absSum[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Low\"), low[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"High\"), high[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Open\"), open[key]);\n\t\t\t\tthis.setPrivate(<any>(key + \"Close\"), close[key]);\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic _updateChildren() {\n\t\tsuper._updateChildren();\n\n\t\tthis._psi = this.startIndex();\n\t\tthis._pei = this.endIndex();\n\n\t\tif(this.isDirty(\"visible\")){\n\t\t\tthis.bulletsContainer.set(\"visible\", this.get(\"visible\"));\n\t\t}\n\n\n\t\t// Apply heat rules\n\t\tconst rules = this.get(\"heatRules\");\n\n\t\tif (this._valuesDirty && rules && rules.length > 0) {\n\t\t\t$array.each(rules, (rule) => {\n\t\t\t\tconst minValue = rule.minValue || this.getPrivate(<any>(rule.dataField + \"Low\")) || 0;\n\t\t\t\tconst maxValue = rule.maxValue || this.getPrivate(<any>(rule.dataField + \"High\")) || 0;\n\n\t\t\t\t$array.each(rule.target._entities, (target) => {\n\n\t\t\t\t\tconst value = target.dataItem.get(rule.dataField);\n\n\t\t\t\t\tif (!$type.isNumber(value)) {\n\t\t\t\t\t\tif(rule.neutral){\n\t\t\t\t\t\t\ttarget.set(rule.key, rule.neutral);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst states = target.states;\n\t\t\t\t\t\tif(states){\n\t\t\t\t\t\t\tconst defaultState = states.lookup(\"default\");\n\t\t\t\t\t\t\tif(defaultState && rule.neutral){\n\t\t\t\t\t\t\t\tdefaultState.set(rule.key, rule.neutral);\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!rule.customFunction){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rule.customFunction) {\n\t\t\t\t\t\trule.customFunction.call(this, target, minValue, maxValue, value);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tlet percent: number;\n\t\t\t\t\t\tif (rule.logarithmic) {\n\t\t\t\t\t\t\tpercent = (Math.log(value) * Math.LOG10E - Math.log(minValue) * Math.LOG10E) / ((Math.log(maxValue) * Math.LOG10E - Math.log(minValue) * Math.LOG10E));\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tpercent = (value - minValue) / (maxValue - minValue);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ($type.isNumber(value) && (!$type.isNumber(percent) || Math.abs(percent) == Infinity)) {\n\t\t\t\t\t\t\tpercent = 0.5;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// fixes problems if all values are the same\n\t\t\t\t\t\tlet propertyValue;\n\t\t\t\t\t\tif ($type.isNumber(rule.min)) {\n\t\t\t\t\t\t\tpropertyValue = rule.min + (rule.max - rule.min) * percent;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (rule.min instanceof Color) {\n\t\t\t\t\t\t\tpropertyValue = Color.interpolate(percent, rule.min, rule.max);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (rule.min instanceof Percent) {\n\t\t\t\t\t\t\tpropertyValue = percentInterpolate(percent, rule.min, rule.max);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget.set(rule.key, propertyValue);\n\t\t\t\t\t\tconst states = target.states;\n\t\t\t\t\t\tif(states){\n\t\t\t\t\t\t\tconst defaultState = states.lookup(\"default\");\n\t\t\t\t\t\t\tif(defaultState){\n\t\t\t\t\t\t\t\tdefaultState.set(rule.key, propertyValue);\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tif(this.get(\"visible\")){\n\t\t\tlet count = this.dataItems.length;\n\t\t\tlet startIndex = this.startIndex();\n\t\t\tlet endIndex = this.endIndex();\n\n\t\t\tif(endIndex < count){\n\t\t\t\tendIndex++;\n\t\t\t}\n\t\t\tif(startIndex > 0){\n\t\t\t\tstartIndex--;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < startIndex; i++) {\n\t\t\t\tthis._hideBullets(this.dataItems[i]);\n\t\t\t}\n\n\t\t\tfor (let i = startIndex; i < endIndex; i++) {\n\t\t\t\tthis._positionBullets(this.dataItems[i]);\n\t\t\t}\n\n\t\t\tfor (let i = endIndex; i < count; i++) {\n\t\t\t\tthis._hideBullets(this.dataItems[i]);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic _positionBullets(dataItem: DataItem<this[\"_dataItemSettings\"]>){\n\t\tif(dataItem.bullets){\n\t\t\t$array.each(dataItem.bullets, (bullet) => {\n\t\t\t\tthis._positionBullet(bullet);\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\n\t\t\t\tif(bullet.get(\"dynamic\")){\n\n\t\t\t\t\tif(sprite){\n\t\t\t\t\t\tsprite._markDirtyKey(\"fill\" as any);\n\t\t\t\t\t\tsprite.markDirtySize();\n\t\t\t\t\t}\n\t\t\t\t\tif(sprite instanceof Container){\n\t\t\t\t\t\tsprite.walkChildren((child)=>{\n\t\t\t\t\t\t\tchild._markDirtyKey(\"fill\" as any);\n\t\t\t\t\t\t\tchild.markDirtySize();\n\n\t\t\t\t\t\t\tif(child instanceof Label){\n\t\t\t\t\t\t\t\tchild.text.markDirtyText();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(sprite instanceof Label && sprite.get(\"populateText\" as any)){\n\t\t\t\t\tsprite.text.markDirtyText();\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tprotected _hideBullets(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif (dataItem.bullets) {\n\t\t\t$array.each(dataItem.bullets, (bullet) => {\n\t\t\t\tlet sprite = bullet.get(\"sprite\");\n\t\t\t\tif (sprite) {\n\t\t\t\t\tsprite.setPrivate(\"visible\", false);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tpublic _positionBullet(_bullet: Bullet) {\n\t}\n\n\tpublic _placeBulletsContainer(chart:Chart){\n\t\tchart.bulletsContainer.children.moveValue(this.bulletsContainer);\n\t}\n\n\tpublic _removeBulletsContainer(){\n\t\tconst bulletsContainer = this.bulletsContainer;\n\t\tif(bulletsContainer.parent){\n\t\t\tbulletsContainer.parent.children.removeValue(bulletsContainer)\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic disposeDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>) {\n\t\t//super.disposeDataItem(dataItem); // does nothing\n\n\t\tconst bullets = dataItem.bullets;\n\n\t\tif(bullets){\n\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\tbullet.dispose();\n\t\t\t})\n\t\t\tdataItem.bullets = undefined;\n\t\t}\n\t}\n\n\tprotected _getItemReaderLabel(): string {\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Shows series's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async showDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.showDataItem(dataItem, duration)];\n\t\tconst bullets = dataItem.bullets;\n\t\tif(bullets){\n\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\tif(sprite){\n\t\t\t\t\tpromises.push(sprite.show(duration));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tawait Promise.all(promises);\n\t}\n\n\t/**\n\t * Hides series's data item.\n\t *\n\t * @param   dataItem  Data item\n\t * @param   duration  Animation duration in milliseconds\n\t * @return            Promise\n\t */\n\tpublic async hideDataItem(dataItem: DataItem<this[\"_dataItemSettings\"]>, duration?: number): Promise<void> {\n\t\tconst promises = [super.hideDataItem(dataItem, duration)];\n\t\tconst bullets = dataItem.bullets;\n\t\tif(bullets){\n\t\t\t$array.each(bullets, (bullet)=>{\n\t\t\t\tconst sprite = bullet.get(\"sprite\");\n\t\t\t\tif(sprite){\t\t\t\t\t\n\t\t\t\t\tpromises.push(sprite.hide(duration));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\tawait Promise.all(promises);\n\t}\n\n\n\tprotected async _sequencedShowHide(show: boolean, duration?: number): Promise<void> {\n\t\tif (this.get(\"sequencedInterpolation\")) {\n\n\t\t\tif (!$type.isNumber(duration)) {\n\t\t\t\tduration = this.get(\"interpolationDuration\", 0);\n\t\t\t}\n\n\t\t\tif (duration > 0) {\n\t\t\t\tconst startIndex = this.startIndex();\n\t\t\t\tconst endIndex = this.endIndex();\n\n\t\t\t\tawait Promise.all($array.map(this.dataItems, async (dataItem, i) => {\n\t\t\t\t\tlet realDuration = duration || 0;\n\n\t\t\t\t\tif (i < startIndex - 10 || i > endIndex + 10) {\n\t\t\t\t\t\trealDuration = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t//let delay = this.get(\"sequencedDelay\", 0) * i + realDuration * (i - startIndex) / (endIndex - startIndex);\n\t\t\t\t\tlet delay = this.get(\"sequencedDelay\", 0) + realDuration / (endIndex - startIndex);\n\n\t\t\t\t\tawait $time.sleep(delay * (i - startIndex));\n\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\tawait this.showDataItem(dataItem, realDuration);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tawait this.hideDataItem(dataItem, realDuration);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tawait Promise.all($array.map(this.dataItems, (dataItem) => {\n\t\t\t\t\tif (show) {\n\t\t\t\t\t\treturn this.showDataItem(dataItem, 0);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\treturn this.hideDataItem(dataItem, 0);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLegendValue(dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t\tif(dataItem){\n\t\t\tconst legendDataItem = dataItem.get(\"legendDataItem\" as any) as DataItem<ILegendDataItem>;\n\n\t\t\tif (legendDataItem) {\n\t\t\t\tconst valueLabel = legendDataItem.get(\"valueLabel\");\n\t\t\t\tif (valueLabel) {\n\t\t\t\t\tconst text = valueLabel.text;\n\t\t\t\t\tlet txt = \"\";\n\t\t\t\t\tvalueLabel._setDataItem(dataItem);\n\t\t\t\t\ttxt = this.get(\"legendValueText\", text.get(\"text\", \"\"));\n\n\t\t\t\t\tvalueLabel.set(\"text\", txt);\n\t\t\t\t\ttext.markDirtyText();\n\t\t\t\t}\n\n\t\t\t\tconst label = legendDataItem.get(\"label\");\n\t\t\t\tif (label) {\n\t\t\t\t\tconst text = label.text;\n\t\t\t\t\tlet txt = \"\";\n\t\t\t\t\tlabel._setDataItem(dataItem);\n\t\t\t\t\ttxt = this.get(\"legendLabelText\", text.get(\"text\", \"\"));\n\n\t\t\t\t\tlabel.set(\"text\", txt);\n\t\t\t\t\ttext.markDirtyText();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic updateLegendMarker(_dataItem?: DataItem<this[\"_dataItemSettings\"]>) {\n\t}\n\n\tprotected _onHide(){\n\t\tsuper._onHide();\n\n\t\tconst tooltip = this.getTooltip();\n\t\tif(tooltip){\n\t\t\ttooltip.hide();\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic hoverDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic unhoverDataItem(_dataItem: DataItem<this[\"_dataItemSettings\"]>) {}\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _getBase(key: any): number {\n\t\tconst dataItem = this.dataItems[this.startIndex()];\n\t\tif (dataItem) {\n\t\t\treturn dataItem.get(key);\n\t\t}\n\t\treturn 0;\n\t}\n}\n"],"names":["segmentedLine","display","segments","s","len","length","groups","firstGroup","firstPoint","moveTo","x","y","g","line","points","p","point","lineTo","Line","Graphics","_beforeChanged","super","this","isDirty","_sizeDirty","isPrivateDirty","_clear","_changed","get","_display","$draw","w","width","h","height","Object","defineProperty","classNames","concat","className","Tick","pi","Math","PI","tau","epsilon","tauEpsilon","append","strings","_","i","n","arguments","Path","constructor","digits","_x0","_y0","_x1","_y1","_append","d","floor","Error","k","round","appendRound","closePath","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","toString","withPath","shape","RangeError","prototype","ListData","List","incrementRef","decrementRef","_onPush","newValue","processor","processRow","_onInsertIndex","index","_onSetIndex","oldValue","DataItem","Settings","component","dataContext","settings","_settings","visible","_checkDirty","markDirty","markDirtyValues","_startAnimation","_root","_addAnimation","_animationTime","animationTime","_dispose","disposeDataItem","show","duration","setRaw","showDataItem","hide","hideDataItem","isHidden","Component","Container","_dataItems","data","_data","_onDataClear","_afterNew","_updateFields","_disposers","push","events","onAll","change","dataItems","_mainDataItems","_markDirtyGroup","_dataChanged","type","$array","dataItem","dispose","_makeDataItem","processDataItem","properties","bullets","undefined","$object","forEach","key","animate","to","easing","splice","oldIndex","newIndex","_afterDataChange","valueFields","_valueFields","_valueFieldsF","fieldKey","workingKey","fields","_fields","_fieldsF","_dataItem","output","field","makeDataItem","pushDataItem","_duration","set","_clearDirty","_valuesDirty","_afterChanged","isEnabled","dispatch","target","inited","_dataGrouped","markDirtySize","getDataItemById","id","Chart","children","new","p100","interactiveChildren","isMeasured","position","SerialChart","ListAutoDispose","series","seriesContainer","oldValues","_removeSeries","colors","reset","patterns","moveValue","_processSeries","setIndex","insertIndex","value","a","b","aIndex","indexOf","bIndex","each","chart","_placeBulletsContainer","_handleRemoved","isDisposed","removeValue","_removeBulletsContainer","ColorSet","Entity","_afterNewApplyThemes","_dirty","generateColors","setPrivate","getPrivate","pass","Color","fromHex","passOptions","reuse","hsl","toHSL","hue","saturation","lightness","fromHSL","getIndex","saturate","next","currentStep","sleep","ms","Promise","resolve","_reject","setTimeout","timeUnitDurations","millisecond","second","minute","hour","day","week","month","year","getDuration","unit","count","date","firstDateOfWeek","utc","firstDate","timezone","timeZoneOffset","getTimezoneOffset","setUTCMinutes","getUTCMinutes","getUTCDate","difference","getTime","unitCount","setTime","setUTCDate","setUTCHours","seconds","getUTCSeconds","setUTCSeconds","milliseconds","getUTCMilliseconds","setUTCMilliseconds","hours","getUTCHours","minutes","getUTCMonth","setUTCMonth","getUTCFullYear","setUTCFullYear","wday","weekDay","getUTCDay","$type","newTimeZoneOffset","diff","isNaN","initialTime","tzoffset","offsetUTC","parsedDate","parseDate","weekday","offsetDif","newTime","Date","hDuration","newDiff","Series","_handleBullets","bulletsContainer","startIndex","min","endIndex","max","bullet","_makeBullets","_shouldMakeBullet","bulletFunction","_makeBullet","_index","_makeBulletReal","sprite","_setDataItem","addBullet","_aggregatesCalculated","_baseSeriesDirty","_selectionAggregatesCalculated","_prepareChildren","updateLegendValue","baseValueSeries","onPrivate","_dataProcessed","_calculateAggregates","_psi","_pei","tooltip","markerRectangle","legendDataItem","isVisible","stroke","fill","updateLegendMarker","_adjustStartIndex","sum","absSum","low","high","open","close","average","previous","changePercent","changePrevious","changePreviousPercent","changeSelection","changeSelectionPercent","openKey","adjustedStartIndex","calculateChangesForItem","_getBase","_updateChildren","rules","rule","minValue","dataField","maxValue","_entities","neutral","states","defaultState","lookup","customFunction","call","percent","propertyValue","logarithmic","log","LOG10E","Infinity","interpolate","Percent","percentInterpolate","_hideBullets","_positionBullets","_positionBullet","_markDirtyKey","walkChildren","child","Label","text","markDirtyText","_bullet","parent","_getItemReaderLabel","promises","_super","all","_sequencedShowHide","__awaiter","realDuration","delay","$time","valueLabel","txt","label","_onHide","getTooltip","hoverDataItem","unhoverDataItem"],"sourceRoot":""}